(()=>{"use strict";var e,s,n,i={758:(e,s,n)=>{var i=n(848),t=n(338),a=n(468),r=n(976),l=n(767),c=n(164),o=n(325),d=n(636);const m="slider--elYnB",h="sliderPromoBtns--gaLIU",p="slide--cEVnZ",u="link--UfuK_",x="wrapper--u_WcV",j="img--bsBOM",g="content--VKFEw",N="title--wf9CY",v="subcontent--aYi26",f="rating--IQMNE",b="desc--mA3IR",y="descGenre--cdvbN",w="btnPrev--AnfC1",k="btnNext--DihbE",E=n.p+"img/sprite.svg",A=n.p+"img/genre-sprite.svg",P=function(e){let{width:s=50,height:n=50,defaultSprite:t=!0,iconName:a,className:r}=e;const l=t?E:A;return(0,i.jsx)("svg",{"aria-hidden":!0,className:r,focusable:"false",width:s,height:n,children:(0,i.jsx)("use",{xlinkHref:`${l}#${a}`})})},B="/",F="/films/",S="/serials/",C="/cartoon/",I="/animated-series/",T="/film/",O="/person/",L="search",V="login",R="slider-arrow",M="favorite",W="close",$="burger",_="caret-bottom",D="arrow-right",q="sort",K="star",U="arrowRightSingle",G=10,J="genres.name",Y="rating.kp",X="year",Q="page",H="sortField",z=[{name:"умолчанию",id:"0"},{name:"рейтингу",id:"rating.kp"},{name:"дате выхода",id:"year"}],Z=[{title:"Жанр",name:"Любой жанр",id:"0"},{name:"Боевик",id:"боевик"},{name:"Комедия",id:"комедия"},{name:"Триллер",id:"триллер"},{name:"Ужасы",id:"ужасы"},{name:"Фантастика",id:"фантастика"},{name:"Фэнтези",id:"фэнтези"},{name:"Детектив",id:"детектив"},{name:"Вестерн",id:"вестерн"},{name:"Драма",id:"драма"},{name:"Семейный",id:"семейный"},{name:"Музыка",id:"музыка"},{name:"Фильм-нуар",id:"фильм-нуар"},{name:"Криминал",id:"криминал"},{name:"Мелодрама",id:"мелодрама"},{name:"Биография",id:"биография"},{name:"Военный",id:"военный"},{name:"Детский",id:"детский"},{name:"Для взрослых",id:"для взрослых"},{name:"Документальный",id:"документальный"},{name:"Игра",id:"игра"},{name:"История",id:"история"},{name:"Концерт",id:"концерт"},{name:"Короткометражка",id:"короткометражка"},{name:"Мюзикл",id:"мюзикл"},{name:"Новости",id:"новости"},{name:"Приключения",id:"приключения"},{name:"Реальное ТВ",id:"реальное ТВ"},{name:"Спорт",id:"спорт"},{name:"Ток-шоу",id:"ток-шоу"},{name:"Церемония",id:"церемония"}],ee=[{title:"Рейтинг",name:"Любой",id:"0"},{name:"от 5",id:"5-10"},{name:"от 6",id:"6-10"},{name:"от 7",id:"7-10"},{name:"от 8",id:"8-10"},{name:"от 9",id:"9-10"},{name:"от 10",id:"10"}],se=[{title:"Год выхода",name:"Любой год",id:"0"},{name:"2024",id:"2024"},{name:"2023",id:"2023"},{name:"2022",id:"2022"},{name:"2021",id:"2021"},{name:"2020",id:"2020"},{name:"2019",id:"2019"},{name:"2018",id:"2018"},{name:"2017",id:"2017"},{name:"2016",id:"2016"},{name:"2015",id:"2015"}],ne={ACTOR:"Актер",HRONO_TITR_MALE:"Присутствует в титрах",HRONO_TITR_FEMALE:"Присутствует в титрах",DIRECTOR:"Директор",WRITER:"Писатель",HIMSELF:"Играет самого себя",HERSELF:"Играет саму себя",PRODUCER:"Продюсер"},ie={nextEl:`.${k}`,prevEl:`.${w}`},te=function(e){let{style:s=""}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{className:(0,c.A)(s,w),type:"button","aria-label":"prev",children:(0,i.jsx)(P,{width:30,height:30,iconName:R})}),(0,i.jsx)("button",{className:(0,c.A)(k,s),type:"button","aria-label":"next",children:(0,i.jsx)(P,{width:30,height:30,iconName:R})})]})},ae=e=>{if(!e)return null;const s=Number(e);return s>=7?"bg-green":s>=5?"bg-orange":s<5?"bg-red":"bg-grey"},re=e=>{if(!e)return"";if(e<60)return`${e} мин`;if(e>=60&&e%60==0)return`${(e/60).toFixed()} ч`;const s=e%60;return`${(e/60).toFixed()} ч ${s} мин`},le=e=>{const s=e.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/);return!(!s||11!==s[7].length)&&s[7]},ce=(e,s)=>{const n=[];let i=0,t=0;for(let a=e-2;a<=e+2;a+=1)a>0&&a<=s&&n.push({id:a,val:a}),a<=0&&(i+=1),a>s&&(t+=1);if(i)for(let e=1;e<=i;e+=1)if(Number(n[n.length-1].val)<s){const{val:s}=n[n.length-e];n.push({id:Number(s)+e,val:Number(s)+e})}if(t)for(let e=1;e<=t;e+=1)Number(n[0].val)>1&&n.unshift({id:Number(n[0].val)-1,val:Number(n[0].val)-1});return Number(n[n.length-1].val)+1===s?n.push({id:s,val:s}):Number(n[n.length-1].val)+1<s&&n.push({id:"dots1",val:"..."},{id:s,val:s}),Number(n[0].val)-1==1?n.unshift({id:1,val:1}):Number(n[0].val)-1>1&&n.unshift({id:1,val:1},{id:"dots2",val:"..."}),n},oe=e=>{switch(e){case"movie":return"Фильмы";case"tv-series":return"Сериалы";case"cartoon":return"Мультфильмы";case"animated-series":return"Мультсериалы";default:return""}};function de(e,s,n,i){if(!(null==n?void 0:n.current))return;let t;t=i||s.findIndex((s=>s.id===e.id));const a=n.current.childNodes[t],r=n.current.getBoundingClientRect().top,l=a.getBoundingClientRect().top;if(l<r){const e=r-l;n.current.scrollBy(0,-e-10)}const c=n.current.getBoundingClientRect().bottom,o=a.getBoundingClientRect().bottom;if(o>c){const e=o-c;n.current.scrollBy(0,e+10)}}var me=n(816),he=n(378);const pe=function(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return i=void 0,t=[...s],r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){var{body:n=null,headers:i={}}=s,t=function(e,s){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&s.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var t=0;for(i=Object.getOwnPropertySymbols(e);t<i.length;t++)s.indexOf(i[t])<0&&Object.prototype.propertyIsEnumerable.call(e,i[t])&&(n[i[t]]=e[i[t]])}return n}(s,["body","headers"]);const a=Object.assign(Object.assign({method:n?"POST":"GET",body:n},t),{headers:Object.assign(Object.assign({},{"Content-Type":"application/json"}),i)});n&&(a.body=JSON.stringify(n));try{const s=yield fetch(e,a);if(s.ok){const e=yield s.json();return{status:s.status,data:e,headers:s.headers,url:s.url}}const n=yield s.json();throw new Error(`${n.error} ${n.statusCode}`)}catch(e){return Promise.reject(e)}}()},new((a=void 0)||(a=Promise))((function(e,s){function n(e){try{c(r.next(e))}catch(e){s(e)}}function l(e){try{c(r.throw(e))}catch(e){s(e)}}function c(s){var i;s.done?e(s.value):(i=s.value,i instanceof a?i:new a((function(e){e(i)}))).then(n,l)}c((r=r.apply(i,t||[])).next())}));var i,t,a,r},ue="EKTAQRZ-ZBJ4K6Q-M42FJAY-Q38ZE8J",xe="0856db19-d286-4e22-86d4-a0e0cbba6a1e",je="https://api.kinopoisk.dev/v1.4/movie";pe.getFilms=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ue;const s=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toString();return pe(`${je}?&notNullFields=name&notNullFields=poster.url&${s}`,{headers:{"X-API-KEY":e}})},pe.getPremiereFilms=function(){return pe("https://api.kinopoisk.dev/v1.4/movie?page=1&limit=10&notNullFields=backdrop.url&notNullFields=name&type=movie&year=2024-2024&rating.imdb=7-10",{headers:{"X-API-KEY":"9EKK271-59ZMCRE-J16MMVB-T1PTWGF"}})},pe.getFilm=function(e){return pe(`${je}/${e}`,{headers:{"X-API-KEY":ue}})},pe.searchFilm=function(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toString();return pe(`https://kinopoiskapiunofficial.tech/api/v2.1/films/search-by-keyword?&${e}`,{headers:{"X-API-KEY":xe}})},pe.getPlayer=function(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toString();return pe(`https://kinobox.tv/api/players?${e}`)},pe.getPerson=function(e){return pe(`https://kinopoiskapiunofficial.tech/api/v1/staff//${e}`,{headers:{"X-API-KEY":xe}})};const ge=pe;const Ne=(0,me.xP)({reducerPath:"filmsApi",baseQuery:(0,he.cw)(),endpoints:e=>({getFilms:e.query({queryFn:e=>ge.getFilms(e)}),getSliderFilms:e.query({queryFn:e=>ge.getFilms(e,"9EKK271-59ZMCRE-J16MMVB-T1PTWGF"),keepUnusedDataFor:Number.MAX_SAFE_INTEGER}),getPremiereFilms:e.query({queryFn:()=>{return e=void 0,s=void 0,i=function*(){return ge.getPremiereFilms()},new((n=void 0)||(n=Promise))((function(t,a){function r(e){try{c(i.next(e))}catch(e){a(e)}}function l(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var s;e.done?t(e.value):(s=e.value,s instanceof n?s:new n((function(e){e(s)}))).then(r,l)}c((i=i.apply(e,s||[])).next())}));var e,s,n,i},keepUnusedDataFor:Number.MAX_SAFE_INTEGER}),getFilm:e.query({queryFn:e=>ge.getFilm(e)}),searchFilm:e.query({queryFn:e=>ge.searchFilm(e.params),serializeQueryArgs:e=>{let{endpointName:s}=e;return s},merge:(e,s,n)=>{let{arg:i}=n;return"text"===i.type?s:(e.films.push(...s.films),e)},forceRefetch(e){let{currentArg:s,previousArg:n}=e;return s!==n},keepUnusedDataFor:0}),getPlayerFilm:e.query({queryFn:e=>ge.getPlayer(e)}),getPerson:e.query({queryFn:e=>ge.getPerson(e)})})}),{useGetFilmsQuery:ve,useGetSliderFilmsQuery:fe,useGetPremiereFilmsQuery:be,useGetFilmQuery:ye,useLazySearchFilmQuery:we,useGetPlayerFilmQuery:ke,useGetPersonQuery:Ee}=Ne,Ae=Ne,Pe="wrapper--pyfS5",Be="loader--m4vD6";function Fe(e){let{width:s,height:n,stroke:t=3}=e;return(0,i.jsx)("span",{className:Be,style:{width:`${s}px`,height:`${n}px`,borderWidth:`${t}px`}})}const Se=function(e){let{width:s,height:n}=e;return(0,i.jsx)("div",{className:Pe,children:(0,i.jsx)("span",{className:Be,style:{width:`${s}px`,height:`${n}px`}})})};function Ce(e){let{slide:s}=e;const n=(0,o.JO)(),t=(0,o.Mn)(),a=(0,l.Zp)();return(0,i.jsxs)(r.N_,{className:u,to:T+s.id,onClick:e=>{e.preventDefault(),n.isActive&&a(T+s.id),n.isNext?t.slideNext():t.slidePrev()},children:[(0,i.jsx)("div",{className:x}),(0,i.jsx)("img",{className:j,src:s.backdrop.url,alt:"poster"}),(0,i.jsxs)("div",{className:g,children:[(0,i.jsx)("h2",{className:N,children:s.name}),(0,i.jsxs)("div",{className:v,children:[(0,i.jsx)("div",{className:(0,c.A)(f,ae(s.rating.imdb)),children:s.rating.imdb.toFixed(1)}),(0,i.jsx)("span",{className:b,children:s.year}),(0,i.jsx)("span",{className:(0,c.A)(b,y),children:s.genres[0].name}),(0,i.jsx)("span",{className:b,children:re(s.movieLength)}),(0,i.jsx)("span",{className:b,children:s.ageRating&&`${s.ageRating}+`})]})]})]})}const Ie=function(){const{data:e,error:s,isLoading:n,isError:t}=be();return(0,i.jsxs)("section",{className:"page-block page-block--promo",children:[n&&(0,i.jsx)(Se,{width:75,height:75}),t&&(0,i.jsx)("div",{className:"container",children:(0,i.jsxs)("h2",{children:["Errror: ","message"in s?s.message:""]})}),(null==e?void 0:e.docs)&&(0,i.jsxs)(o.RC,{className:m,centeredSlides:!0,loop:!0,speed:700,breakpoints:{320:{slidesPerView:"auto",spaceBetween:10},720:{slidesPerView:"auto",spaceBetween:20}},navigation:ie,modules:[d.Vx],children:[e.docs.map((e=>(0,i.jsx)(o.qr,{className:p,children:(0,i.jsx)(Ce,{slide:e})},e.id))),(0,i.jsx)(te,{style:h})]})]})};var Te=n(540);const Oe=function(){const[e,s]=Te.useState({isBeginning:!0,isEnd:!1});return(0,i.jsx)("section",{className:(0,c.A)("page-block","genreBlock--DO0Hp",(n=e,!n||n.isBeginning?"":n.isBeginning||n.isEnd?"blockEnd--xI91l":"blockCentered--juxB2")),children:(0,i.jsxs)("div",{className:"container",children:[(0,i.jsx)("h2",{className:"title--R7tYF",children:"Популярные жанры"}),(0,i.jsxs)(o.RC,{speed:700,modules:[d.Vx],breakpoints:{320:{slidesPerView:"auto",spaceBetween:10},720:{slidesPerView:"auto",spaceBetween:15},1024:{slidesPerView:"auto",spaceBetween:20}},className:"slider--qFLZg",navigation:ie,onSlideChange:e=>{s({isBeginning:e.isBeginning,isEnd:e.isEnd})},onSliderMove:e=>{s({isBeginning:e.isBeginning,isEnd:e.isEnd})},children:[Z.slice(1,12).map((e=>(0,i.jsx)(o.qr,{className:"slide--diE0z",children:(0,i.jsxs)(r.N_,{className:"link--KGEOU",to:`${F}?genres.name=${e.id}`,children:[(0,i.jsx)(P,{defaultSprite:!1,iconName:e.id,className:"icon--J32t_"}),(0,i.jsx)("span",{children:e.name})]})},e.id))),(0,i.jsx)(te,{style:"genreBtns--FFDE7"})]})]})});var n},Le="wrapper--an7n4",Ve="slide--qEZEt",Re={320:{slidesPerView:2.5,spaceBetween:10},420:{slidesPerView:3,spaceBetween:10},620:{slidesPerView:3.5,spaceBetween:15},768:{slidesPerView:3.5,spaceBetween:20},1024:{slidesPerView:4.5,spaceBetween:30},1280:{slidesPerView:5.5,spaceBetween:30}},Me=function(e){let{genre:s}=e;const{data:n={},error:t,isLoading:a,isError:l}=fe({"genres.name":s.id,limit:20,type:"movie"});return(0,i.jsx)("section",{className:"page-block",children:(0,i.jsxs)("div",{className:"container",children:[(0,i.jsxs)(r.N_,{to:`${F}?${J}=${s.id}`,className:"link--hImH6",children:[(0,i.jsx)("h2",{className:"title--VVNfg",children:s.name}),(0,i.jsx)("span",{className:"icon--pvrTB",children:(0,i.jsx)(P,{width:30,height:30,iconName:R})})]}),a&&(0,i.jsx)(Se,{width:75,height:75}),l&&(0,i.jsxs)("span",{children:["Error: ","message"in t?t.message:""]}),n.docs&&(0,i.jsxs)(o.RC,{className:"slider--W8zwg",speed:700,modules:[d.Vx],breakpoints:Re,navigation:ie,children:[n.docs.map((e=>{var s,n,t,a,l;return(0,i.jsx)(o.qr,{className:Ve,children:(0,i.jsx)(r.N_,{to:`${T}${e.id}`,children:(0,i.jsxs)("div",{className:Le,children:[(0,i.jsx)("img",{className:"poster--IQCZw",src:null===(s=e.poster)||void 0===s?void 0:s.previewUrl,alt:""}),(0,i.jsxs)("div",{className:"content--dnk1y",children:[(0,i.jsx)("div",{className:(0,c.A)("rating--ZHT3x",ae(null===(n=e.rating)||void 0===n?void 0:n.kp)),children:Boolean(null===(t=e.rating)||void 0===t?void 0:t.kp)&&(null===(l=null===(a=e.rating)||void 0===a?void 0:a.kp)||void 0===l?void 0:l.toFixed(1))}),(0,i.jsx)("div",{className:"btns--KnSTw"}),(0,i.jsx)("p",{className:"name--BEtLt",children:e.name})]})]})})},e.id)})),(0,i.jsx)(o.qr,{className:Ve,children:(0,i.jsx)(r.N_,{to:`${F}?genres=${s.id}`,children:(0,i.jsx)("div",{className:Le,children:(0,i.jsxs)("div",{className:"showAllWrapper--qem5m",children:[(0,i.jsx)(P,{width:30,height:30,iconName:R}),(0,i.jsx)("p",{className:"showAllText--QojG9",children:"Показать все"})]})})})}),(0,i.jsx)(te,{style:"sliderPageBtns--JvYhZ"})]})]})})},We=function(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Ie,{}),(0,i.jsx)(Oe,{}),Z.slice(1,5).map((e=>(0,i.jsx)(Me,{genre:e},e.id)))]})},$e={hidden:"hidden--MN8vJ","visually-hidden":"visually-hidden--P0pVU",container:"container--lN1pR","header-container":"header-container--VCpTf","page-block":"page-block--jtlkr","page-block--promo":"page-block--promo--jKDzz","bg-grey":"bg-grey--DmPEv","bg-green":"bg-green--ijtcL","bg-orange":"bg-orange--M0lbW","bg-red":"bg-red--Sevi7",films:"films--_zFEn",title:"title--_Jjtd",filters:"filters--j1Ydn",filtersWrapper:"filtersWrapper--GqU5O",resetBtn:"resetBtn--oB0Ty",sortIcon:"sortIcon--jRDVR",sortText:"sortText--UicFa",sortTextMob:"sortTextMob--uFQSY"},_e={hidden:"hidden--YcEar","visually-hidden":"visually-hidden--SW9Z1",container:"container--OiWGy","header-container":"header-container--_ZVtI","page-block":"page-block--OXRK9","page-block--promo":"page-block--promo--oaVGr","bg-grey":"bg-grey--WO42C","bg-green":"bg-green--gxMxJ","bg-orange":"bg-orange--B68FG","bg-red":"bg-red--WKVhC",select:"select--T8SES",value:"value--BJkm3",text:"text--GRgEy",icon:"icon--O5b5v",iconOpen:"iconOpen--nbNwb",selectSort:"selectSort--Si42Y",list:"list--ZsL4Y",item:"item--LJWpw",itemHover:"itemHover--WM3Je",itemActive:"itemActive--SVOAm"},De=Te.memo((function(e){let{parsedOption:s,options:n,optionType:t,searchParams:a,setSearchParams:r,classModif:l,extraOption:o,children:d}=e;const m=s?n.find((e=>e.id===s)):n[0],[h,p]=Te.useState(!1),[u,x]=Te.useState(m),[j,g]=Te.useState(m.id),N=Te.useRef(null),v=Te.useRef(null),f=Te.useCallback((e=>{u&&g(u.id),p(e)}),[u,g]),b=e=>{"0"!==e?(o&&a.set(o.type,o.id),a.set(t,e),r(a)):(o&&a.delete(o.type,o.id),a.delete(t),r(a))},y=e=>{x(e),g(e.id),b(e.id)};return Te.useEffect((()=>{function e(e){const s=e.target;N.current&&!N.current.contains(s)&&f(!1)}function s(e){"Escape"===e.key&&f(!1)}return document.addEventListener("click",e),document.addEventListener("keydown",s),()=>{document.removeEventListener("click",e),document.removeEventListener("keydown",s)}}),[f]),Te.useEffect((()=>{u&&h&&de(u,n,v)}),[h,u,n]),Te.useEffect((()=>{s||x(n[0])}),[s,n]),(0,i.jsxs)("div",{className:(0,c.A)(_e.select,l&&_e[`select${l}`]),tabIndex:0,role:"button",ref:N,onClick:()=>f(!h),onKeyDown:function(e){let s=n.findIndex((e=>e.id===j));if("ArrowUp"===e.code){if(!h)return;s-1<0?s=n.length-1:s-=1,e.preventDefault(),g(n[s].id),de(u,n,v,s)}if("ArrowDown"===e.code){if(!h)return;s+1>n.length-1?s=0:s+=1,e.preventDefault(),g(n[s].id),de(u,n,v,s)}"Enter"!==e.code&&"Space"!==e.code||(h&&x(n[s]),b(n[s].id),e.preventDefault(),f(!h))},children:[(0,i.jsxs)("div",{className:_e.value,children:[d,(0,i.jsx)("span",{className:_e.text,children:u.title||u.name}),(0,i.jsx)(P,{iconName:R,className:(0,c.A)(_e.icon,h&&_e.iconOpen)})]}),h&&(0,i.jsx)("ul",{className:_e.list,ref:v,onMouseMove:e=>{if(e.target instanceof HTMLElement&&e.target.classList.contains(_e.item)){const s=e.target.getAttribute("data-id");s&&s!==j&&g(s)}},children:n.map((e=>(0,i.jsx)("li",{children:(0,i.jsx)("div",{"data-id":e.id,role:"button",tabIndex:-1,className:(0,c.A)(_e.item,u.id===e.id&&_e.itemActive,j===e.id&&_e.itemHover),onClick:()=>y(e),onKeyDown:()=>y(e),children:e.name})},e.id)))})]})})),qe="paginationItem--TBt8z",Ke="paginationLink--YVwNn",Ue="paginationIconFirst--p3aPx",Ge="paginationIconLast--O8h16",Je=function(e){let{pages:s,paramsPage:n,handler:t,filmsref:a}=e;const r=Number(n)||1,{ref:l,isComponentVisible:o,setIsComponentVisible:d}=function(e){const[s,n]=Te.useState(e),i=Te.useRef(null),t=e=>{"Escape"===e.key&&n(!1)},a=e=>{const s=e.target;i.current&&!i.current.contains(s)&&n(!1)};return Te.useEffect((()=>(document.addEventListener("keydown",t,!0),document.addEventListener("click",a,!0),()=>{document.removeEventListener("keydown",t,!0),document.removeEventListener("click",a,!0)})),[]),{ref:i,isComponentVisible:s,setIsComponentVisible:n}}(!1),m=Te.useRef(null),h=()=>{const e=-1*parseInt(getComputedStyle(document.body).getPropertyValue("--header-height"),10),s=(null==a?void 0:a.current)?a.current.getBoundingClientRect().top+window.scrollY+e+-30:0;window.scrollTo({top:s,behavior:"smooth"})},p=(e,s)=>{e.preventDefault(),r!==s&&(t(s),h())};return(0,i.jsxs)("div",{className:"pagination--nyAWq",children:[(0,i.jsxs)("ul",{className:"paginationList--caJvz",children:[(0,i.jsx)("li",{className:(0,c.A)(qe,"paginationItemStart--r5zIx"),children:(0,i.jsx)("a",{className:Ke,href:"#1","aria-label":"Первая страница",onClick:e=>p(e,1),children:(0,i.jsx)(P,{width:15,height:15,iconName:D,className:Ue})})}),(0,i.jsx)("li",{className:qe,children:(0,i.jsx)("a",{className:Ke,href:"#1","aria-label":"Назад",onClick:e=>p(e,r-1),children:(0,i.jsx)(P,{width:15,height:15,iconName:U,className:Ue})})}),ce(r,s).map((e=>Number(e.val)?(0,i.jsx)("li",{className:qe,children:(0,i.jsx)("a",{className:(0,c.A)(Ke,e.val===r&&"paginationLinkActive--N39lU"),href:`#${e.val}`,onClick:s=>p(s,e.val),children:e.val})},e.id):(0,i.jsx)("li",{className:qe,children:(0,i.jsx)("span",{className:Ke,children:e.val})},e.id))),(0,i.jsx)("li",{className:qe,children:(0,i.jsx)("a",{className:Ke,href:"#1","aria-label":"Вперед",onClick:e=>p(e,r+1),children:(0,i.jsx)(P,{width:15,height:15,iconName:U,className:Ge})})}),(0,i.jsx)("li",{className:(0,c.A)(qe,"paginationItemEnd--Niexv"),children:(0,i.jsx)("a",{className:Ke,href:"#1","aria-label":"Последняя страница",onClick:e=>p(e,s),children:(0,i.jsx)(P,{width:15,height:15,iconName:D,className:Ge})})})]}),(0,i.jsxs)("div",{className:"paginationJump--mXqnt",ref:l,children:[(0,i.jsxs)("button",{className:"paginationJumpBtn--JT7M_",type:"button",onClick:()=>d(!o),children:["Страница ",r," из ",s,(0,i.jsx)(P,{iconName:_,className:"paginationJumpIcon--XUV4e"})]}),o&&(0,i.jsx)("div",{className:"paginationJumpMenu--D6aFK",children:(0,i.jsxs)("form",{method:"post",action:"",onSubmit:e=>{if(e.preventDefault(),!m||!m.current)return;const{value:s}=m.current;Number(s)!==r&&t(s),d(!1),h()},children:[(0,i.jsx)("input",{className:"paginationJumpInput--pzXye",type:"number",min:"1",max:s,placeholder:"Номер страницы",ref:m}),(0,i.jsx)("input",{className:"paginationJumpSubmitBtn--T3h87",type:"submit",value:"Перейти"})]})})]})]})},Ye=function(e){let{films:s,filmsref:n,loading:t}=e;return(0,i.jsx)("div",{className:(0,c.A)("filmsWrapper--KemYr",t&&"filmsWrapperLoad--A03Ka"),ref:n,children:s.docs.map((e=>{var s,n,t,a,l;return(0,i.jsxs)(r.N_,{className:"link--RKQNL",to:T+e.id,children:[(0,i.jsx)("img",{className:"poster--S22e2",src:null===(s=e.poster)||void 0===s?void 0:s.previewUrl,alt:"preview-poster"}),(0,i.jsxs)("div",{className:"content--Q9sjr",children:[(0,i.jsx)("div",{className:(0,c.A)("rating--Mo7sl",ae(null===(n=e.rating)||void 0===n?void 0:n.kp)),children:Boolean(null===(t=e.rating)||void 0===t?void 0:t.kp)&&(null===(l=null===(a=e.rating)||void 0===a?void 0:a.kp)||void 0===l?void 0:l.toFixed(1))}),(0,i.jsx)("div",{className:"btns--LiIXs"}),(0,i.jsx)("p",{className:"name--D5m1B",children:e.name})]})]},e.id)}))})},Xe=function(e){var s,n;const{type:t}=e,[a,l]=(0,r.ok)(),c=Te.useRef(null),o=(e=>{const s={};for(const[n,i]of e)s[n]=i;return s})(a),d=!!Object.keys(o).length,{data:m=[],error:h,isLoading:p,isFetching:u,isError:x}=ve(Object.assign(Object.assign({},o),{type:t,limit:42}));return(0,i.jsx)("section",{className:$e.films,children:(0,i.jsxs)("div",{className:"container",children:[(0,i.jsx)("h1",{className:$e.title,children:oe(t)}),(0,i.jsxs)("div",{className:$e.controls,children:[(0,i.jsxs)("div",{className:$e.filters,children:[(0,i.jsxs)("div",{className:$e.filtersWrapper,children:[(0,i.jsx)(De,{parsedOption:o[J],options:Z,optionType:J,searchParams:a,setSearchParams:l}),(0,i.jsx)(De,{parsedOption:o[Y],options:ee,optionType:Y,searchParams:a,setSearchParams:l}),(0,i.jsx)(De,{parsedOption:o[X],options:se,optionType:X,searchParams:a,setSearchParams:l}),d&&(0,i.jsx)("button",{className:$e.resetBtn,type:"button",onClick:()=>{l(new URLSearchParams)},children:"Сбросить"})]}),(0,i.jsxs)(De,{parsedOption:o[H],options:z,optionType:H,searchParams:a,setSearchParams:l,classModif:"Sort",extraOption:{type:"sortType",id:"-1"},children:[(0,i.jsx)(P,{iconName:q,className:$e.sortIcon}),(0,i.jsx)("span",{className:$e.sortTextMob,children:"По: "}),(0,i.jsx)("span",{className:$e.sortText,children:"Сортировать по: "})]})]}),p&&(0,i.jsx)(Se,{width:75,height:75}),x&&(0,i.jsxs)("h2",{children:["Error: ","message"in h?h.message:""]}),Boolean(!(null===(s=m.docs)||void 0===s?void 0:s.length))&&!p&&!x&&(0,i.jsx)("h2",{children:"Ничего не найдено"}),Boolean(null===(n=m.docs)||void 0===n?void 0:n.length)&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Ye,{films:m,filmsref:c,loading:u}),(0,i.jsx)(Je,{pages:m.pages,paramsPage:a.get(Q),handler:e=>{a.set(Q,String(e)),l(a)},filmsref:c})]})]})]})})};var Qe=n(472);const He="film--GwuIy",ze="backgroundContainer--KXxVv",Ze="content--jSyki",es="info--ODgI8",ss="popupEnter--dOVBK",ns="popupEnterActive--mBTEh",is="popupExit--X9uGb",ts="popupExitActive--DBkc4",as={hidden:"hidden--cQgAz","visually-hidden":"visually-hidden--CJM0S",container:"container--KWADp","header-container":"header-container--w4reg","page-block":"page-block--I8j6r","page-block--promo":"page-block--promo--cHAPR","bg-grey":"bg-grey--EdpbF","bg-green":"bg-green--Eh5hj","bg-orange":"bg-orange--N24lB","bg-red":"bg-red--VRmND",title:"title--iW4hb",sliderPageBtns:"sliderPageBtns--dhkXx",slider:"slider--mW3Jb",personWrapper:"personWrapper--bEndi",person:"person--YdFvT",shortName:"shortName--TmNXn",personName:"personName--sDDWb"},rs={320:{slidesPerView:3,spaceBetween:10},420:{slidesPerView:4,spaceBetween:10},620:{slidesPerView:5,spaceBetween:15},768:{slidesPerView:6,spaceBetween:15},1024:{slidesPerView:7,spaceBetween:15},1280:{slidesPerView:9,spaceBetween:30}},ls=function(e){let{persons:s}=e;return(0,i.jsx)("section",{className:"page-block",children:(0,i.jsxs)("div",{className:"container",children:[(0,i.jsx)("h2",{className:as.title,children:"Актеры"}),(0,i.jsxs)(o.RC,{className:as.slider,speed:700,modules:[d.Vx],breakpoints:rs,navigation:ie,children:[s.map((e=>(0,i.jsx)(o.qr,{className:as.slide,children:(0,i.jsxs)(r.N_,{to:`${O}${e.id}`,children:[(0,i.jsxs)("div",{className:as.personWrapper,children:[(0,i.jsx)("span",{className:as.shortName,children:"НА"}),(0,i.jsx)("img",{className:as.person,src:e.photo,alt:"Фото актера"})]}),(0,i.jsx)("p",{className:as.personName,children:e.name||e.enName})]})},e.id))),(0,i.jsx)(te,{style:as.sliderPageBtns})]})]})})},cs=function(e){Te.useEffect((()=>{function s(s){"Escape"===s.key&&e(!1)}const n=window.innerWidth-document.documentElement.clientWidth;return n&&document.documentElement.style.setProperty("--scroll-width",`${n}px`),document.body.setAttribute("style","overflow: hidden;"),document.addEventListener("keydown",s),()=>{document.body.setAttribute("style",""),document.documentElement.style.setProperty("--scroll-width","0px"),document.removeEventListener("keydown",s)}}),[e])},os=function(e){let{setVisible:s}=e;const[n,t]=Te.useState(-1),[a,r]=Te.useState(7),l=e=>(!a&&e<=n||e<=a)&&"ratingItemActive--kM2qG";return cs(s),(0,i.jsx)("div",{className:"overlay--B7L6N",onClick:()=>s(!1),children:(0,i.jsxs)("div",{className:"popup--Q7yUV",onClick:e=>e.stopPropagation(),children:[(0,i.jsx)("button",{className:"closeBtn--a_Kwa",type:"button","aria-label":"close",onClick:()=>s(!1),children:(0,i.jsx)(P,{width:30,height:30,iconName:W})}),(0,i.jsx)("h3",{className:"title--DgW2V",children:"Поставьте оценку"}),(0,i.jsx)("div",{className:"ratingWrapper--qOUcY",onMouseLeave:()=>(r(n<0?7:n),!1),children:[...new Array(10)].map(((e,s)=>s+1)).map((e=>(0,i.jsx)("div",{role:"button",tabIndex:0,onMouseEnter:()=>r(e),onClick:()=>t(e),onKeyDown:()=>t(e),children:(0,i.jsxs)("label",{className:(0,c.A)("ratingItem--oDQGz",l(e)),htmlFor:String(e),children:[(0,i.jsx)("span",{className:"ratingText--DO96Q",children:e}),(0,i.jsx)("input",{className:"hidden",type:"radio",value:e,id:String(e)})]})},e)))}),(0,i.jsx)("button",{className:"ratingBtn--UioE5",type:"button",onClick:()=>s(!1),children:"Оценить"})]})})},ds="btn--rGwi9",ms="type--ffJmf",hs=function(e){let{children:s,setVisible:n}=e;return cs(n),(0,i.jsx)("div",{className:"overlay--v63eG",onClick:()=>n(!1),children:(0,i.jsxs)("div",{className:"popup--mHMUf",onClick:e=>e.stopPropagation(),children:[(0,i.jsx)("button",{className:"closeBtn--i12e2",type:"button","aria-label":"close",onClick:()=>n(!1),children:(0,i.jsx)(P,{width:30,height:30,iconName:W})}),(0,i.jsx)("div",{className:"content--xVjcW",children:s})]})})},ps=function(e){let{setVisible:s,data:n}=e;const[t,a]=Te.useState({index:0,url:""});return(0,i.jsxs)(hs,{setVisible:s,children:[(0,i.jsx)("div",{className:"trailersList--m7ngb",children:n.map(((e,s)=>(0,i.jsxs)("div",{className:t.index===s?(0,c.A)(ds,"btnActive--y7K8a"):ds,onClick:()=>a({index:s,url:e.url}),children:[(0,i.jsx)("div",{className:"numberBtn--CSrXz",children:s+1}),(0,i.jsx)("img",{width:120,height:90,className:"previewImg--MbvIT",src:`//img.youtube.com/vi/${le(e.url)}/hqdefault.jpg`,alt:"Превью трейлера"}),(0,i.jsxs)("div",{className:"info--udLKA",children:[(0,i.jsx)("p",{className:"name--P8IJ0",children:e.name}),(0,i.jsx)("p",{className:ms,children:e.type}),(0,i.jsx)("p",{className:ms,children:"youtube"})]})]},e.name+s)))}),(0,i.jsx)("div",{className:"wrapper--m7FuZ",children:(0,i.jsx)("div",{className:"frameWrapper--ECbgL",children:(0,i.jsx)("iframe",{width:"100%",height:"100%",src:t.url?t.url:n[0].url,title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0})})})]})},us=function(e){let{setVisible:s,data:n}=e;const[t,a]=Te.useState(n[0]),[r,l]=Te.useState(!0),o=Te.useRef(null);return Te.useEffect((()=>{(null==o?void 0:o.current)&&o.current.addEventListener("load",(()=>{l(!1)}))}),[]),(0,i.jsxs)(hs,{setVisible:s,children:[(0,i.jsx)("div",{className:"playerTabs--KDiEI",children:n.map(((e,s)=>(0,i.jsxs)("button",{className:(0,c.A)("playerTabBtn--LKsKU",e.iframeUrl===t.iframeUrl&&"playerTabBtnActive--rkT5B"),type:"button",onClick:()=>(e=>{a(e),l(!0)})(e),children:["Плеер №",s+1," [",e.source,"]"]},e.iframeUrl)))}),(0,i.jsx)("div",{className:"wrapper--EyLRC",children:(0,i.jsxs)("div",{className:"frameWrapper--Z8ofD",children:[r&&(0,i.jsx)("div",{className:"spinnerWrapper--oe_rX",children:(0,i.jsx)(Se,{width:75,height:75})}),(0,i.jsx)("iframe",{ref:o,width:"100%",height:"100%",title:"Player",src:t.iframeUrl,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0})]})})]})},xs="tab--D0NXK",js="tabActive--fTY3I",gs="tabContent--rTDbP",Ns="tabContentHidden--H868K",vs="ratingBlock--FAxUx",fs="ratingText--K2i3J",bs="ratingDesc--WE5BC",ys=(0,Te.memo)((e=>{let{description:s,ratingKp:n,ratingImdb:t}=e;const[a,r]=Te.useState(1),[l,o]=Te.useState(!1);return(0,i.jsx)("section",{className:"tabs--VPzsG",children:(0,i.jsxs)("div",{className:"container",children:[(0,i.jsxs)("ul",{className:"tabsList--ew5Fg",children:[(0,i.jsx)("li",{children:(0,i.jsx)("button",{type:"button",className:(0,c.A)(xs,1===a&&js),onClick:()=>r(1),children:"Описание"})}),(0,i.jsx)("li",{children:(0,i.jsx)("button",{type:"button",className:(0,c.A)(xs,2===a&&js),onClick:()=>r(2),children:"Cборы"})})]}),(0,i.jsxs)("div",{className:(0,c.A)(gs,"tabContentDesc--V6iZL",1!==a&&Ns),children:[(0,i.jsxs)("div",{className:"tabContentBlock--GC1ep",children:[(0,i.jsx)("p",{className:(0,c.A)("tabText--t7Jqm",l&&"tabTextShow--UTHTo"),children:s||"Описание отсутствует"}),s&&(0,i.jsx)("button",{className:"tabBtn--wNLLJ",onClick:()=>o(!l),type:"button",children:l?"Свернуть описание":"Подробное описание"})]}),(0,i.jsxs)("div",{className:"rating--Kf1ir",children:[(0,i.jsx)("h2",{className:"ratingTitle--FMnlk",children:"Рейтинг:"}),(0,i.jsxs)("div",{className:vs,children:[(0,i.jsx)("p",{className:fs,children:n.toFixed(1)}),(0,i.jsx)("p",{className:bs,children:"kinopoisk"})]}),(0,i.jsxs)("div",{className:vs,children:[(0,i.jsx)("p",{className:fs,children:t.toFixed(1)}),(0,i.jsx)("p",{className:bs,children:"imdb"})]})]})]}),(0,i.jsx)("div",{className:(0,c.A)(gs,2!==a&&Ns)})]})})})),ws="factsDescText--F9jX3";function ks(e){let{fact:s,index:n}=e;const[t,a]=Te.useState(s.spoiler);return(0,i.jsxs)("li",{className:"factsItem--VMi5T",children:[(0,i.jsx)("div",{className:"factsNumber--ISPpd",children:(0,i.jsx)("span",{className:"factsNumberText--msurF",children:n+1})}),(0,i.jsxs)("div",{className:"factsWrapperText--D5h0k",children:[(0,i.jsx)("p",{className:t?(0,c.A)(ws,"factsDescTextSpoiler--Wrni7"):ws,children:s.value.replace(/<[^>]*>/g,"")}),t&&(0,i.jsx)("button",{className:"factsSpoilerBtn--hDWp3",type:"button",onClick:()=>a(!t),children:"Показать спойлер"})]})]})}const Es=(0,Te.memo)((e=>{let{facts:s}=e;const[n,t]=Te.useState(G),a=n<s.length;return(0,i.jsx)("section",{className:"facts--F2nKw",children:(0,i.jsxs)("div",{className:"container",children:[(0,i.jsx)("h2",{className:"factsTitle--ssJ0F",children:"Интересные факты о фильме"}),(0,i.jsx)("ul",{className:"factsList--XGAYz",children:s.slice(0,n).map(((e,s)=>(0,i.jsx)(ks,{fact:e,index:s},e.value.slice(0,20))))}),a&&(0,i.jsx)("button",{className:"factsBtn--nUiRw",type:"button",onClick:()=>t(n+G),children:"Показать ещё"})]})})})),As=Es,Ps=function(e){let s,{trailer:n,handler:t,disabled:a,children:r}=e,l=0;return(0,i.jsx)("button",{disabled:a,className:(0,c.A)("movieBtn--LdF_F",n&&"movieBtnTrailer--NlexL"),onMouseEnter:function(e){const n=e.currentTarget;s=setInterval((()=>{n.style.setProperty("--angle-grad",`${l}deg`),l>=360&&(l=0),l+=2}),10)},onMouseLeave:function(){clearInterval(s)},type:"button",onClick:()=>t&&t(!0),children:(0,i.jsx)("div",{className:"movieBtnContent--e3pvK",children:r})})},Bs="title--8bHg4",Fs="sliderPageBtns--HR2aF",Ss="slider--naIYl",Cs="wrapper--Cxyxr",Is="poster--p9yCs",Ts="content--T7E4Q",Os="rating--Y0JHU",Ls="name--XFn05",Vs="slide--WGGxN",Rs={320:{slidesPerView:2.5,spaceBetween:10},420:{slidesPerView:3,spaceBetween:10},620:{slidesPerView:3.5,spaceBetween:15},768:{slidesPerView:3.5,spaceBetween:20},1024:{slidesPerView:4.5,spaceBetween:30},1280:{slidesPerView:5.5,spaceBetween:30}};function Ms(e){let{item:s}=e;var n;const t=(0,o.Mn)();return(0,i.jsx)(r.N_,{to:T+s.id,onClick:()=>t.slideTo(0),children:(0,i.jsxs)("div",{className:Cs,children:[(0,i.jsx)("img",{className:Is,src:null===(n=s.poster)||void 0===n?void 0:n.previewUrl,alt:"Постер"}),(0,i.jsxs)("div",{className:Ts,children:[(0,i.jsx)("div",{className:s.rating?(0,c.A)(Os,ae(s.rating.kp)):"",children:s.rating&&s.rating.kp.toFixed(1)}),(0,i.jsx)("p",{className:Ls,children:s.name})]})]})})}const Ws=function(e){let{title:s,data:n}=e;return(0,i.jsx)("section",{className:"page-block",children:(0,i.jsxs)("div",{className:"container",children:[(0,i.jsx)("h2",{className:Bs,children:s}),n.length&&(0,i.jsxs)(o.RC,{className:Ss,speed:700,modules:[d.Vx],breakpoints:Rs,navigation:ie,children:[n.map((e=>(0,i.jsx)(o.qr,{className:Vs,children:(0,i.jsx)(Ms,{item:e})},e.id))),(0,i.jsx)(te,{style:Fs})]})]})})},$s=function(){var e,s,n,t,a,o,d,m;const{id:h}=(0,l.g)(),[p,u]=Te.useState(!1),[x,j]=Te.useState(!1),[g,N]=Te.useState(!1),{data:v={},isFetching:f,isError:b,error:y}=ye(h),{actors:w,otherPersons:k}=(e=>{if(!e)return{};const s={},n=[];return e.forEach((e=>{Object.hasOwn(s,e.enProfession)||(s[e.enProfession]=[]),s[e.enProfession].push(e)})),Object.keys(s).forEach((e=>{"actor"!==e&&n.push(s[e])})),{actors:s.actor||[],otherPersons:n}})(v.persons),E=!(null===(e=null==v?void 0:v.videos)||void 0===e?void 0:e.trailers.length),A=(B=null===(s=null==v?void 0:v.videos)||void 0===s?void 0:s.trailers,S=["url"],B?B.filter(((e,s,n)=>s===n.findIndex((s=>((e,s,n)=>n.every((n=>e[n]===s[n])))(s,e,S))))):[]);var B,S;const{data:C=[]}=ke({kinopoisk:h}),I=null==C?void 0:C.filter((e=>e.iframeUrl));return f||b?(0,i.jsxs)("section",{className:He,children:[(0,i.jsx)("div",{className:ze}),(0,i.jsxs)("div",{className:(0,c.A)("container",Ze),children:[f&&(0,i.jsx)(Se,{width:75,height:75}),b&&(0,i.jsxs)("h2",{children:["Error: ","message"in y?y.message:""]})]})]}):v.id?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("section",{className:He,children:[(0,i.jsx)("div",{className:ze,style:{backgroundImage:`url(${null===(n=v.backdrop)||void 0===n?void 0:n.url})`}}),(0,i.jsx)("div",{className:(0,c.A)("container",Ze),children:(0,i.jsxs)("div",{className:"wrapper--OFeEc",children:[(0,i.jsx)("img",{className:"poster--U3aSd",src:v.poster.previewUrl,alt:"poster"}),(0,i.jsxs)("div",{className:"filmBLocksWrapper--_K1Kg",children:[(0,i.jsx)("h1",{className:"title--q8v_V",children:v.name}),(0,i.jsx)("p",{className:"titleEng--KPqUy",children:v.alternativeName}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:es,children:v.year}),(0,i.jsx)("span",{className:es,children:v.ageRating&&`${v.ageRating}+`}),v.countries&&v.countries.map((e=>(0,i.jsx)("span",{className:es,children:e.name},e.name))),v.movieLength&&(0,i.jsxs)("span",{className:es,children:[v.movieLength," мин."," ",v.movieLength>60?`/ ${re(v.movieLength)}`:""]})]}),(0,i.jsx)("p",{className:"description--DiofO",children:v.shortDescription}),(0,i.jsx)("div",{children:null===(t=v.genres)||void 0===t?void 0:t.map((e=>(0,i.jsx)(r.N_,{className:"genreLink--UBMTJ",to:`${F}?genres.name=${e.name}`,children:(0,i.jsx)("span",{children:e.name})},e.name)))}),(0,i.jsxs)("div",{className:"btnsWrapper--iST8S",children:[(0,i.jsx)(Ps,{trailer:!0,handler:N,disabled:!I.length,children:"Смотреть онлайн"}),(0,i.jsxs)(Ps,{trailer:!0,handler:j,disabled:E,children:["Трейлеры (",(null===(a=v.videos)||void 0===a?void 0:a.trailers)?A.length:0,")"]}),(0,i.jsxs)(Ps,{handler:u,children:[(0,i.jsx)(P,{width:20,height:20,iconName:K}),(0,i.jsx)("span",{children:"Оценить"})]}),(0,i.jsxs)(Ps,{disabled:!0,children:[(0,i.jsx)(P,{width:20,height:20,iconName:M}),(0,i.jsx)("span",{children:"Запомнить"})]})]})]})]})})]}),(0,i.jsx)(ys,{description:v.description,ratingKp:v.rating.kp,ratingImdb:v.rating.imdb}),Boolean(null===(o=v.similarMovies)||void 0===o?void 0:o.length)&&(0,i.jsx)(Ws,{title:"Похожие фильмы",data:v.similarMovies}),Boolean(null===(d=v.sequelsAndPrequels)||void 0===d?void 0:d.length)&&(0,i.jsx)(Ws,{title:"Сиквелы и приквелы",data:v.sequelsAndPrequels}),Boolean(null==w?void 0:w.length)&&(0,i.jsx)(ls,{persons:w||[]}),(0,i.jsx)("section",{className:"authors--J3743",children:(0,i.jsxs)("div",{className:"container",children:[(0,i.jsx)("h2",{className:"filmCrew--EtcKr",children:"Cъёмочная группа"}),(0,i.jsx)("ul",{className:"authorsList--gjowe",children:null==k?void 0:k.map((e=>(0,i.jsxs)("li",{className:"authorsItem--B2wR3",children:[(0,i.jsxs)("p",{className:"authorsTitle--GF_cX",children:[e[0].profession,":"]}),(0,i.jsx)("p",{className:"authorsName--LzFgf",children:e.map(((s,n)=>(0,i.jsxs)("span",{children:[s.name?s.name:s.enName,n+1!==e.length&&", "]},s.id)))})]},e[0].profession)))})]})}),Boolean(null===(m=v.facts)||void 0===m?void 0:m.length)&&(0,i.jsx)(As,{facts:v.facts}),(0,i.jsx)(Qe.A,{in:p,timeout:300,unmountOnExit:!0,classNames:{enter:"popupEnter--_sJ1a",enterActive:"popupEnterActive--_Q1Xl",exit:"popupExit--XYr1g",exitActive:"popupExitActive--h19R4"},children:(0,i.jsx)(os,{setVisible:u})}),(0,i.jsx)(Qe.A,{in:x,timeout:300,unmountOnExit:!0,classNames:{enter:ss,enterActive:ns,exit:is,exitActive:ts},children:(0,i.jsx)(ps,{data:A,setVisible:j})}),(0,i.jsx)(Qe.A,{in:g,timeout:300,unmountOnExit:!0,classNames:{enter:ss,enterActive:ns,exit:is,exitActive:ts},children:(0,i.jsx)(us,{data:I,setVisible:N})})]}):void 0},_s=function(){return(0,i.jsx)("section",{className:"notFound--yywqg",children:(0,i.jsx)("div",{className:"container",children:(0,i.jsxs)("div",{className:"wrapper--Vc0I1",children:[(0,i.jsx)("h1",{className:"title--yqip5",children:"Страница не найдена"}),(0,i.jsx)("p",{className:"numbers--gnoMx",children:"404"}),(0,i.jsx)(r.N_,{className:"link--BM52X",to:B,children:"Перейти на главную"})]})})})},Ds="personContainer--hI_8Q",qs="personInfoItem--uPFIH",Ks="personInfoTitle--oSEXM",Us="personInfoDesc--FUir4",Gs="filmsTitle--o7Ft6",Js="filmName--b21nX",Ys="showMoreBtn--tbsm6",Xs="btnNext--LrY9P",Qs="btnPrev--yIUGD",Hs=function(){const{id:e}=(0,l.g)(),{data:s={},isLoading:n,isError:t,error:a}=Ee(e),m=Te.useMemo((()=>function(e){if(!(null==e?void 0:e.length))return[];const s=[],n={};return e.filter((e=>{let{filmId:s}=e;return!n[s]&&(n[s]=1,!0)})).forEach((e=>{const n=e.professionKey,i=s.find((e=>e.role===n));i?i.films.push(e):s.push({role:n,roleRu:ne[n],films:[e]})})),s}(s.films)),[s.films]);console.log(m);const[h,p]=Te.useState(m[0]),[u,x]=Te.useState(G),[j,g]=Te.useState(G);Te.useEffect((()=>{p(m[0])}),[m]);const N=e=>{p(e),g(G)};return n||t?(0,i.jsxs)("div",{className:"container",style:{paddingTop:300},children:[n&&(0,i.jsx)(Se,{width:75,height:75}),t&&(0,i.jsxs)("h2",{children:["Error: ","message"in a?a.message:""]})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("section",{className:"person--OIp2y",children:(0,i.jsx)("div",{className:(0,c.A)("container",Ds),children:(0,i.jsxs)("div",{className:"personWrapper--qGJoV",children:[(0,i.jsx)("img",{className:"personPoster--Mcp6w",src:s.posterUrl,alt:"person-poster",width:300,height:300}),(0,i.jsxs)("div",{className:"personInfo--tvhvt",children:[(0,i.jsx)("h2",{className:"personName--YMuh0",children:s.nameRu}),(0,i.jsx)("p",{className:"personNameEn--E3tTZ",children:s.nameEn}),(0,i.jsxs)("ul",{className:"personInfoWrapper--RHg7t",children:[(0,i.jsxs)("li",{className:qs,children:[(0,i.jsx)("p",{className:Ks,children:"Карьера:"}),(0,i.jsx)("p",{className:Us,children:s.profession})]}),(0,i.jsxs)("li",{className:qs,children:[(0,i.jsx)("p",{className:Ks,children:"Дата рождения:"}),(0,i.jsx)("p",{className:Us,children:new Date(s.birthday).toLocaleString("ru-RU",{year:"numeric",month:"long",day:"numeric"})})]}),(0,i.jsxs)("li",{className:qs,children:[(0,i.jsx)("p",{className:Ks,children:"Возраст:"}),(0,i.jsx)("p",{className:Us,children:s.age})]}),Boolean(s.growth)&&(0,i.jsxs)("li",{className:qs,children:[(0,i.jsx)("p",{className:Ks,children:"Рост:"}),(0,i.jsxs)("p",{className:Us,children:[s.growth," м"]})]}),(0,i.jsxs)("li",{className:qs,children:[(0,i.jsx)("p",{className:Ks,children:"Место рождения:"}),(0,i.jsx)("p",{className:Us,children:s.birthplace})]}),(0,i.jsxs)("li",{className:qs,children:[(0,i.jsx)("p",{className:Ks,children:"Всего фильмов:"}),(0,i.jsx)("p",{className:Us,children:s.films.length})]})]})]})]})})}),(0,i.jsx)("section",{className:"films--HTATz",children:(0,i.jsxs)("div",{className:(0,c.A)("container",Ds),children:[(0,i.jsxs)("h2",{className:Gs,children:["Фильмография (",s.films.length,")"]}),(0,i.jsxs)(o.RC,{className:"slider--hcX4C",speed:700,modules:[d.Vx],breakpoints:{320:{slidesPerView:"auto",spaceBetween:10},720:{slidesPerView:"auto",spaceBetween:15},1024:{slidesPerView:"auto",spaceBetween:20}},navigation:{nextEl:`.${Xs}`,prevEl:`.${Qs}`},children:[m.map((e=>(0,i.jsx)(o.qr,{className:"slide--pnLH5",children:(0,i.jsxs)("div",{role:"button",tabIndex:0,className:(0,c.A)("filmRole--eGzCu",h&&h.role===e.role&&"filmRoleActive--ScmgA"),onClick:()=>N(e),onKeyDown:()=>N(e),children:[ne[e.role]," (",e.films.length,")"]})},`${e.role}`))),(0,i.jsx)("button",{className:Qs,type:"button","aria-label":"prev",children:(0,i.jsx)(P,{width:30,height:30,iconName:R})}),(0,i.jsx)("button",{className:Xs,type:"button","aria-label":"next",children:(0,i.jsx)(P,{width:30,height:30,iconName:R})})]}),(0,i.jsx)("div",{className:"filmsContainer--CfQgx",children:h&&h.films.slice(0,j).map((e=>(0,i.jsx)("div",{className:"film--Ralpk",children:(0,i.jsxs)("div",{className:"filmWrapper--ofnHg",children:[(0,i.jsx)("div",{className:"filmMainInfo--aN6Lr",children:(0,i.jsxs)(r.N_,{to:`${T}${e.filmId}`,children:[(0,i.jsx)("p",{className:Js,children:e.nameRu?e.nameRu:"—"}),(0,i.jsx)("p",{className:(0,c.A)(Js,"filmEnName--JI0n4"),children:e.nameEn?e.nameEn:"—"}),(0,i.jsx)("span",{className:"filmActorRole--huGzr",children:e.description})]})}),(0,i.jsx)("div",{children:(0,i.jsx)("span",{className:"filmRating--Yw541",children:e.rating?`Рейтинг ${e.rating}`:"—"})}),(0,i.jsx)("div",{children:(0,i.jsx)(r.N_,{className:"filmLink--vr3Vm",to:`${T}${e.filmId}`,children:"На страницу фильма"})})]})},`${e.nameEn}${e.description}`)))}),h&&h.films.length>10&&j<h.films.length&&(0,i.jsx)("button",{className:Ys,onClick:()=>g(j+G),type:"button",children:"Показать ещё"})]})}),Boolean(s.facts.length)&&(0,i.jsx)("section",{className:"facts--HOoGi",children:(0,i.jsxs)("div",{className:(0,c.A)("container",Ds),children:[(0,i.jsx)("h2",{className:Gs,children:"Интересные факты"}),(0,i.jsx)("ul",{className:"factsList--Hxv4d",children:s.facts.slice(0,u).map((e=>(0,i.jsx)("li",{className:"fact--MK3Au",children:e},e.slice(0,20))))}),s.facts.length>10&&u<s.facts.length&&(0,i.jsx)("button",{className:Ys,onClick:()=>x(u+G),type:"button",children:"Показать ещё"})]})})]})};var zs=n(181),Zs=n.n(zs);const en="headerOut--W25_r",sn="searchTitle--OkT41",nn="link--t7X71",tn="headerIcon--kmdyc",an="headerBtn--saiQO",rn="headerBtnText--DT0Fw",ln=n.p+"img/logo-desktop.svg",cn=n.p+"img/logo-mobile.svg",on=e=>{let{isActive:s}=e;return s?`${nn} activeLink--WsoVA`:nn},dn=function(){const[e,s]=Te.useState(!1),n=Te.useRef(null),[t,a]=Te.useState(!1),[l,o]=Te.useState(!1),[d,m]=Te.useState(""),[h,p]=Te.useState(!1),[u,x]=Te.useState(1),[j,{data:g={films:[]},error:N,isFetching:v,isError:f}]=we(),b=e=>{window.matchMedia("(min-width: 1024px)").matches||(e?(document.body.setAttribute("style",""),s(!1)):(document.body.setAttribute("style","overflow: hidden;"),s(!0),a(!1)))};Te.useEffect((()=>{let e=window.scrollY;window.addEventListener("scroll",(()=>{if(!n||!n.current)return;const s=window.scrollY,i=n.current.classList.contains("headerSearch");s>e&&!i?(n.current.classList.add(en),e=s):(n.current.classList.remove(en),e=s)}))}),[]);const y=()=>{m(""),j({type:"text",params:{keyword:""}})},w=Te.useCallback(Zs()((e=>{o(!1),j({type:"text",params:{keyword:e}}).then((()=>{p(!1)})).catch((()=>{p(!1)}))}),1e3),[j]),k=e=>{const{value:s}=e.target;o(!0),x(1),p(!0),m(s),w(s)},E=e=>{function n(e){"Escape"===e.key&&(a(!1),y(),document.body.setAttribute("style",""),document.removeEventListener("keydown",n))}e?(document.body.setAttribute("style","overflow: hidden;"),document.addEventListener("keydown",n),a(!0),s(!1)):(document.body.setAttribute("style",""),document.removeEventListener("keydown",n),y(),a(!1))};return(0,i.jsxs)("header",{className:(0,c.A)("header--nR8Z4",t&&"headerSearch"),ref:n,children:[(0,i.jsxs)("div",{className:(0,c.A)("container","headerWrapper--Cc2fm"),children:[(0,i.jsx)(r.N_,{to:B,children:(0,i.jsxs)("picture",{children:[(0,i.jsx)("source",{srcSet:String(ln),media:"(min-width: 768px)",width:"180px"}),(0,i.jsx)("img",{className:"logo--Dy43W",src:String(cn),alt:"logo"})]})}),(0,i.jsx)("nav",{className:(0,c.A)("nav--H2dVr",e&&"navOpen--gY6Bq"),children:t?(0,i.jsx)("div",{className:"search--xyyYp",children:(0,i.jsxs)("div",{className:"searchInputWrapper--LWLQD",children:[(0,i.jsx)(P,{width:24,height:24,iconName:L,className:tn}),(0,i.jsx)("input",{className:"searchInput--kQynN",autoFocus:!0,type:"text",value:d,placeholder:"Название фильма или сериала",onChange:k})]})}):(0,i.jsxs)("ul",{className:"list--j0ps7",children:[(0,i.jsx)("li",{children:(0,i.jsx)(r.k2,{className:on,to:B,onClick:()=>b(e),children:"Главная"})}),(0,i.jsx)("li",{children:(0,i.jsx)(r.k2,{className:on,to:F,onClick:()=>b(e),children:"Фильмы"})}),(0,i.jsx)("li",{children:(0,i.jsx)(r.k2,{className:on,to:S,onClick:()=>b(e),children:"Сериалы"})}),(0,i.jsx)("li",{children:(0,i.jsx)(r.k2,{className:on,to:C,onClick:()=>b(e),children:"Мультфильмы"})}),(0,i.jsx)("li",{children:(0,i.jsx)(r.k2,{className:on,to:I,onClick:()=>b(e),children:"Мультсериалы"})})]})}),(0,i.jsxs)("div",{className:"headerControls--oMvMx",children:[(0,i.jsx)("button",{className:an,type:"button",onClick:()=>E(!t),children:t?(0,i.jsx)(P,{width:24,height:24,iconName:W,className:tn}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(P,{width:24,height:24,iconName:L,className:tn}),(0,i.jsx)("span",{className:rn,children:"Поиск"})]})}),(0,i.jsxs)(r.N_,{className:(0,c.A)("linkFavorite--ME1Me","linkDisabled--CQjKl"),to:B,children:[(0,i.jsx)(P,{width:24,height:24,iconName:M,className:tn}),(0,i.jsx)("span",{className:rn,children:"Избранное"})]}),(0,i.jsxs)("button",{className:an,type:"button",disabled:!0,children:[(0,i.jsx)(P,{width:24,height:24,iconName:V,className:tn}),(0,i.jsx)("span",{className:rn,children:"Войти"})]}),(0,i.jsx)("button",{className:"burgerBtn--EO2m0",type:"button","aria-label":"burger",onClick:()=>b(e),children:(0,i.jsx)(P,{width:30,height:30,iconName:e?W:$,className:tn})})]})]}),t&&(0,i.jsxs)("div",{className:(0,c.A)("container","searchMob--l_Xpj"),children:[(0,i.jsx)(P,{width:24,height:24,iconName:L,className:"searchIconMob--O8hdG"}),(0,i.jsx)("input",{className:"searchInputMob--dDS0J",autoFocus:!0,type:"text",value:d,placeholder:"Название фильма или сериала",onChange:k}),(0,i.jsxs)("button",{className:"searchInputResetBtn--Jzfc_",type:"button",onClick:y,children:[(0,i.jsx)(P,{width:14,height:14,iconName:W}),(0,i.jsx)("span",{className:"visually-hidden",children:"Очистить поле ввода"})]})]}),(0,i.jsx)(Qe.A,{in:t,timeout:300,unmountOnExit:!0,classNames:{enter:"searchWrapperEnter--u0ule",enterActive:"searchWrapperActive--ozhZO",exit:"searchWrapperExit--AqGjr",exitActive:"searchWrapperExitActive--Z_Pie"},children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"searchWrapper--iaFTF",children:(0,i.jsxs)("div",{className:(0,c.A)("searchContainer--TbrGh",h&&"searchWrapperLoading--sd2kA"),children:[h&&(0,i.jsx)(Se,{width:75,height:75}),f&&(0,i.jsxs)("h2",{children:["Error: ","message"in N?N.message:""]}),!g.films.length&&!f&&d&&!v&&!l&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h2",{className:sn,children:"Результаты:"}),(0,i.jsx)("h2",{className:"searchNotFound--kucCb",children:"Ничего не найдено"})]}),Boolean(g.films.length)&&!h&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h2",{className:sn,children:"Результаты:"}),(0,i.jsx)("div",{className:"searchGrid--sgYWG",children:g.films.map((e=>(0,i.jsxs)(r.N_,{className:"searchItemLink--HIeXX",to:T+e.filmId,onClick:()=>E(!1),children:[(0,i.jsx)("img",{className:"searchItemPoster--lpTS_",src:e.posterUrlPreview,alt:"постер",loading:"lazy"}),(0,i.jsxs)("div",{className:"searchItemWrapper--CWZAG",children:[(0,i.jsx)("p",{className:"searchItemTitle--ny1ff",children:e.nameRu||e.nameEn}),(0,i.jsxs)("div",{children:[Boolean(Number(e.year))&&(0,i.jsx)("span",{className:"searchItemYear--nUfGU",children:e.year}),Boolean(Number(e.rating))&&(0,i.jsx)("span",{className:"searchItemRating--DvU33",children:e.rating})]})]})]},e.filmId)))}),g.pagesCount>1&&(0,i.jsx)("button",{className:"searchBtnShowMore--Vl4zU",type:"button",onClick:()=>{x(u+1),j({type:"page",params:{keyword:d,page:u+1}})},children:v?(0,i.jsx)(Fe,{width:18,height:18}):"Показать больше"})]})]})}),(0,i.jsx)("div",{role:"presentation",className:"searchBlur--_2mkq",onClick:()=>E(!1)})]})})]})},mn=function(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(dn,{}),(0,i.jsx)("main",{children:(0,i.jsx)(l.sv,{})})]})},hn=function(){const{pathname:e}=(0,l.zy)();return(0,Te.useEffect)((()=>{document.documentElement.scrollTo({top:0,left:0,behavior:"instant"})}),[e]),null},pn=function(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(hn,{}),(0,i.jsx)(l.BV,{children:(0,i.jsxs)(l.qh,{path:B,element:(0,i.jsx)(mn,{}),children:[(0,i.jsx)(l.qh,{index:!0,element:(0,i.jsx)(We,{})}),(0,i.jsx)(l.qh,{path:F,element:(0,i.jsx)(Xe,{type:"movie"})}),(0,i.jsx)(l.qh,{path:S,element:(0,i.jsx)(Xe,{type:"tv-series"})}),(0,i.jsx)(l.qh,{path:C,element:(0,i.jsx)(Xe,{type:"cartoon"})}),(0,i.jsx)(l.qh,{path:I,element:(0,i.jsx)(Xe,{type:"animated-series"})}),(0,i.jsx)(l.qh,{path:"/film/:id",element:(0,i.jsx)($s,{})}),(0,i.jsx)(l.qh,{path:"/person/:id",element:(0,i.jsx)(Hs,{})}),(0,i.jsx)(l.qh,{path:"*",element:(0,i.jsx)(_s,{})})]})})]})},un=(0,n(307).U1)({reducer:{[Ae.reducerPath]:Ae.reducer},middleware:e=>e().concat(Ae.middleware),devTools:!1}),xn=document.querySelector("#root");xn&&t.createRoot(xn).render((0,i.jsx)(a.Kq,{store:un,children:(0,i.jsx)(r.I9,{children:(0,i.jsx)(pn,{})})}))}},t={};function a(e){var s=t[e];if(void 0!==s)return s.exports;var n=t[e]={exports:{}};return i[e](n,n.exports,a),n.exports}a.m=i,e=[],a.O=(s,n,i,t)=>{if(!n){var r=1/0;for(d=0;d<e.length;d++){n=e[d][0],i=e[d][1],t=e[d][2];for(var l=!0,c=0;c<n.length;c++)(!1&t||r>=t)&&Object.keys(a.O).every((e=>a.O[e](n[c])))?n.splice(c--,1):(l=!1,t<r&&(r=t));if(l){e.splice(d--,1);var o=i();void 0!==o&&(s=o)}}return s}t=t||0;for(var d=e.length;d>0&&e[d-1][2]>t;d--)e[d]=e[d-1];e[d]=[n,i,t]},a.n=e=>{var s=e&&e.__esModule?()=>e.default:()=>e;return a.d(s,{a:s}),s},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,a.t=function(e,i){if(1&i&&(e=this(e)),8&i)return e;if("object"==typeof e&&e){if(4&i&&e.__esModule)return e;if(16&i&&"function"==typeof e.then)return e}var t=Object.create(null);a.r(t);var r={};s=s||[null,n({}),n([]),n(n)];for(var l=2&i&&e;"object"==typeof l&&!~s.indexOf(l);l=n(l))Object.getOwnPropertyNames(l).forEach((s=>r[s]=()=>e[s]));return r.default=()=>e,a.d(t,r),t},a.d=(e,s)=>{for(var n in s)a.o(s,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:s[n]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;a.g.importScripts&&(e=a.g.location+"");var s=a.g.document;if(!e&&s&&(s.currentScript&&(e=s.currentScript.src),!e)){var n=s.getElementsByTagName("script");if(n.length)for(var i=n.length-1;i>-1&&(!e||!/^http(s?):/.test(e));)e=n[i--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e+"../"})(),(()=>{var e={23:0};a.O.j=s=>0===e[s];var s=(s,n)=>{var i,t,r=n[0],l=n[1],c=n[2],o=0;if(r.some((s=>0!==e[s]))){for(i in l)a.o(l,i)&&(a.m[i]=l[i]);if(c)var d=c(a)}for(s&&s(n);o<r.length;o++)t=r[o],a.o(e,t)&&e[t]&&e[t][0](),e[t]=0;return a.O(d)},n=self.webpackChunkwebpack_5=self.webpackChunkwebpack_5||[];n.forEach(s.bind(null,0)),n.push=s.bind(null,n.push.bind(n))})();var r=a.O(void 0,[90],(()=>a(758)));r=a.O(r)})();