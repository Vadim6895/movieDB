(()=>{"use strict";var e,s,n,i={982:(e,s,n)=>{var i=n(848),t=n(338),r=n(468),a=n(976),l=n(767),c=n(164),o=n(325),d=n(636);const m="slider--elYnB",h="sliderPromoBtns--gaLIU",u="slide--cEVnZ",p="link--UfuK_",x="wrapper--u_WcV",j="img--bsBOM",g="content--VKFEw",v="title--wf9CY",N="subcontent--aYi26",f="rating--IQMNE",b="desc--mA3IR",y="descGenre--cdvbN",w="btnPrev--AnfC1",k="btnNext--DihbE",E=n.p+"img/sprite.svg",A="/",P="/films/",B="/serials/",$="/cartoon/",C="/animated-series/",F="/film/",S="/person/",I="search",T="login",O="slider-arrow",L="favorite",V="close",R="burger",M="caret-bottom",W="arrow-right",_="sort",D="star",q="arrowRightSingle",H=10,K="genres.name",U="rating.kp",G="year",J="page",Y="sortField",X=[{name:"умолчанию",id:"0"},{name:"рейтингу",id:"rating.kp"},{name:"дате выхода",id:"year"}],Q=[{title:"Жанр",name:"Любой жанр",id:"0"},{name:"Боевик",id:"боевик"},{name:"Комедия",id:"комедия"},{name:"Триллер",id:"триллер"},{name:"Ужасы",id:"ужасы"},{name:"Фантастика",id:"фантастика"},{name:"Фэнтези",id:"фэнтези"},{name:"Детектив",id:"детектив"},{name:"Вестерн",id:"вестерн"},{name:"Драма",id:"драма"},{name:"Семейный",id:"семейный"},{name:"Музыка",id:"музыка"},{name:"Фильм-нуар",id:"фильм-нуар"},{name:"Криминал",id:"криминал"},{name:"Мелодрама",id:"мелодрама"},{name:"Биография",id:"биография"},{name:"Военный",id:"военный"},{name:"Детский",id:"детский"},{name:"Для взрослых",id:"для взрослых"},{name:"Документальный",id:"документальный"},{name:"Игра",id:"игра"},{name:"История",id:"история"},{name:"Концерт",id:"концерт"},{name:"Короткометражка",id:"короткометражка"},{name:"Мюзикл",id:"мюзикл"},{name:"Новости",id:"новости"},{name:"Приключения",id:"приключения"},{name:"Реальное ТВ",id:"реальное ТВ"},{name:"Спорт",id:"спорт"},{name:"Ток-шоу",id:"ток-шоу"},{name:"Церемония",id:"церемония"}],z=[{title:"Рейтинг",name:"Любой",id:"0"},{name:"от 5",id:"5-10"},{name:"от 6",id:"6-10"},{name:"от 7",id:"7-10"},{name:"от 8",id:"8-10"},{name:"от 9",id:"9-10"},{name:"от 10",id:"10"}],Z=[{title:"Год выхода",name:"Любой год",id:"0"},{name:"2024",id:"2024"},{name:"2023",id:"2023"},{name:"2022",id:"2022"},{name:"2021",id:"2021"},{name:"2020",id:"2020"},{name:"2019",id:"2019"},{name:"2018",id:"2018"},{name:"2017",id:"2017"},{name:"2016",id:"2016"},{name:"2015",id:"2015"}],ee={ACTOR:"Актер",HRONO_TITR_MALE:"Присутствует в титрах",HRONO_TITR_FEMALE:"Присутствует в титрах",DIRECTOR:"Директор",WRITER:"Писатель",HIMSELF:"Играет самого себя",PRODUCER:"Продюсер"},se={nextEl:`.${k}`,prevEl:`.${w}`},ne=function(e){let{style:s=""}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{className:(0,c.A)(s,w),type:"button","aria-label":"prev",children:(0,i.jsx)("svg",{children:(0,i.jsx)("use",{xlinkHref:`${E}#${O}`})})}),(0,i.jsx)("button",{className:(0,c.A)(k,s),type:"button","aria-label":"next",children:(0,i.jsx)("svg",{children:(0,i.jsx)("use",{xlinkHref:`${E}#${O}`})})})]})},ie=e=>{if(!e)return null;const s=Number(e);return s>=7?"bg-green":s>=5?"bg-orange":s<5?"bg-red":"bg-grey"},te=e=>{if(!e)return"";if(e<60)return`${e} мин`;if(e>=60&&e%60==0)return`${(e/60).toFixed()} ч`;const s=e%60;return`${(e/60).toFixed()} ч ${s} мин`},re=e=>{const s=e.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/);return!(!s||11!==s[7].length)&&s[7]},ae=(e,s)=>{const n=[];let i=0,t=0;for(let r=e-2;r<=e+2;r+=1)r>0&&r<=s&&n.push({id:r,val:r}),r<=0&&(i+=1),r>s&&(t+=1);if(i)for(let e=1;e<=i;e+=1)if(Number(n[n.length-1].val)<s){const{val:s}=n[n.length-e];n.push({id:Number(s)+e,val:Number(s)+e})}if(t)for(let e=1;e<=t;e+=1)Number(n[0].val)>1&&n.unshift({id:Number(n[0].val)-1,val:Number(n[0].val)-1});return Number(n[n.length-1].val)+1===s?n.push({id:s,val:s}):Number(n[n.length-1].val)+1<s&&n.push({id:"dots1",val:"..."},{id:s,val:s}),Number(n[0].val)-1==1?n.unshift({id:1,val:1}):Number(n[0].val)-1>1&&n.unshift({id:1,val:1},{id:"dots2",val:"..."}),n},le=e=>{switch(e){case"movie":return"Фильмы";case"tv-series":return"Сериалы";case"cartoon":return"Мультфильмы";case"animated-series":return"Мультсериалы";default:return""}};function ce(e,s,n,i){if(!(null==n?void 0:n.current))return;let t;t=i||s.findIndex((s=>s.id===e.id));const r=n.current.childNodes[t],a=n.current.getBoundingClientRect().top,l=r.getBoundingClientRect().top;if(l<a){const e=a-l;n.current.scrollBy(0,-e-10)}const c=n.current.getBoundingClientRect().bottom,o=r.getBoundingClientRect().bottom;if(o>c){const e=o-c;n.current.scrollBy(0,e+10)}}var oe=n(816),de=n(378);const me=function(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return i=void 0,t=[...s],a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){var{body:n=null,headers:i={}}=s,t=function(e,s){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&s.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var t=0;for(i=Object.getOwnPropertySymbols(e);t<i.length;t++)s.indexOf(i[t])<0&&Object.prototype.propertyIsEnumerable.call(e,i[t])&&(n[i[t]]=e[i[t]])}return n}(s,["body","headers"]);const r=Object.assign(Object.assign({method:n?"POST":"GET",body:n},t),{headers:Object.assign(Object.assign({},{"Content-Type":"application/json"}),i)});n&&(r.body=JSON.stringify(n));try{const s=yield fetch(e,r);if(s.ok){const e=yield s.json();return{status:s.status,data:e,headers:s.headers,url:s.url}}const n=yield s.json();throw new Error(`${n.error} ${n.statusCode}`)}catch(e){return Promise.reject(e)}}()},new((r=void 0)||(r=Promise))((function(e,s){function n(e){try{c(a.next(e))}catch(e){s(e)}}function l(e){try{c(a.throw(e))}catch(e){s(e)}}function c(s){var i;s.done?e(s.value):(i=s.value,i instanceof r?i:new r((function(e){e(i)}))).then(n,l)}c((a=a.apply(i,t||[])).next())}));var i,t,r,a},he="EKTAQRZ-ZBJ4K6Q-M42FJAY-Q38ZE8J",ue="0856db19-d286-4e22-86d4-a0e0cbba6a1e",pe="https://api.kinopoisk.dev/v1.4/movie";me.getFilms=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:he;const s=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toString();return me(`${pe}?&notNullFields=name&notNullFields=poster.url&${s}`,{headers:{"X-API-KEY":e}})},me.getPremiereFilms=function(){return me("https://api.kinopoisk.dev/v1.4/movie?page=1&limit=10&notNullFields=backdrop.url&notNullFields=name&type=movie&year=2024-2024&rating.imdb=7-10",{headers:{"X-API-KEY":"9EKK271-59ZMCRE-J16MMVB-T1PTWGF"}})},me.getFilm=function(e){return me(`${pe}/${e}`,{headers:{"X-API-KEY":he}})},me.searchFilm=function(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toString();return me(`https://kinopoiskapiunofficial.tech/api/v2.1/films/search-by-keyword?&${e}`,{headers:{"X-API-KEY":ue}})},me.getPlayer=function(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toString();return me(`https://kinobox.tv/api/players?${e}`)},me.getPerson=function(e){return me(`https://kinopoiskapiunofficial.tech/api/v1/staff//${e}`,{headers:{"X-API-KEY":ue}})};const xe=me;const je=(0,oe.xP)({reducerPath:"filmsApi",baseQuery:(0,de.cw)(),endpoints:e=>({getFilms:e.query({queryFn:e=>xe.getFilms(e)}),getSliderFilms:e.query({queryFn:e=>xe.getFilms(e,"9EKK271-59ZMCRE-J16MMVB-T1PTWGF"),keepUnusedDataFor:Number.MAX_SAFE_INTEGER}),getPremiereFilms:e.query({queryFn:()=>{return e=void 0,s=void 0,i=function*(){return xe.getPremiereFilms()},new((n=void 0)||(n=Promise))((function(t,r){function a(e){try{c(i.next(e))}catch(e){r(e)}}function l(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var s;e.done?t(e.value):(s=e.value,s instanceof n?s:new n((function(e){e(s)}))).then(a,l)}c((i=i.apply(e,s||[])).next())}));var e,s,n,i},keepUnusedDataFor:Number.MAX_SAFE_INTEGER}),getFilm:e.query({queryFn:e=>xe.getFilm(e)}),searchFilm:e.query({queryFn:e=>xe.searchFilm(e.params),serializeQueryArgs:e=>{let{endpointName:s}=e;return s},merge:(e,s,n)=>{let{arg:i}=n;return"text"===i.type?s:(e.films.push(...s.films),e)},forceRefetch(e){let{currentArg:s,previousArg:n}=e;return s!==n},keepUnusedDataFor:0}),getPlayerFilm:e.query({queryFn:e=>xe.getPlayer(e)}),getPerson:e.query({queryFn:e=>xe.getPerson(e)})})}),{useGetFilmsQuery:ge,useGetSliderFilmsQuery:ve,useGetPremiereFilmsQuery:Ne,useGetFilmQuery:fe,useLazySearchFilmQuery:be,useGetPlayerFilmQuery:ye,useGetPersonQuery:we}=je,ke=je,Ee="wrapper--pyfS5",Ae="loader--m4vD6";function Pe(e){let{width:s,height:n,stroke:t=3}=e;return(0,i.jsx)("span",{className:Ae,style:{width:`${s}px`,height:`${n}px`,borderWidth:`${t}px`}})}const Be=function(e){let{width:s,height:n}=e;return(0,i.jsx)("div",{className:Ee,children:(0,i.jsx)("span",{className:Ae,style:{width:`${s}px`,height:`${n}px`}})})};function $e(e){let{slide:s}=e;const n=(0,o.JO)(),t=(0,o.Mn)(),r=(0,l.Zp)();return(0,i.jsxs)(a.N_,{className:p,to:F+s.id,onClick:e=>{e.preventDefault(),n.isActive&&r(F+s.id),n.isNext?t.slideNext():t.slidePrev()},children:[(0,i.jsx)("div",{className:x}),(0,i.jsx)("img",{className:j,src:s.backdrop.url,alt:"poster"}),(0,i.jsxs)("div",{className:g,children:[(0,i.jsx)("h2",{className:v,children:s.name}),(0,i.jsxs)("div",{className:N,children:[(0,i.jsx)("div",{className:(0,c.A)(f,ie(s.rating.imdb)),children:s.rating.imdb.toFixed(1)}),(0,i.jsx)("span",{className:b,children:s.year}),(0,i.jsx)("span",{className:(0,c.A)(b,y),children:s.genres[0].name}),(0,i.jsx)("span",{className:b,children:te(s.movieLength)}),(0,i.jsx)("span",{className:b,children:s.ageRating&&`${s.ageRating}+`})]})]})]})}const Ce=function(){const{data:e,error:s,isLoading:n,isError:t}=Ne();return(0,i.jsxs)("section",{className:"page-block page-block--promo",children:[n&&(0,i.jsx)(Be,{width:75,height:75}),t&&(0,i.jsx)("div",{className:"container",children:(0,i.jsxs)("h2",{children:["Errror: ","message"in s?s.message:""]})}),(null==e?void 0:e.docs)&&(0,i.jsxs)(o.RC,{className:m,centeredSlides:!0,loop:!0,speed:700,breakpoints:{320:{slidesPerView:"auto",spaceBetween:10},720:{slidesPerView:"auto",spaceBetween:20}},navigation:se,modules:[d.Vx],children:[e.docs.map((e=>(0,i.jsx)(o.qr,{className:u,children:(0,i.jsx)($e,{slide:e})},e.id))),(0,i.jsx)(ne,{style:h})]})]})};var Fe=n(540);const Se=n.p+"img/genre-sprite.svg",Ie=function(){const[e,s]=Fe.useState({isBeginning:!0,isEnd:!1});return(0,i.jsx)("section",{className:(0,c.A)("page-block","genreBlock--DO0Hp",(n=e,!n||n.isBeginning?"":n.isBeginning||n.isEnd?"blockEnd--xI91l":"blockCentered--juxB2")),children:(0,i.jsxs)("div",{className:"container",children:[(0,i.jsx)("h2",{className:"title--R7tYF",children:"Популярные жанры"}),(0,i.jsxs)(o.RC,{speed:700,modules:[d.Vx],breakpoints:{320:{slidesPerView:"auto",spaceBetween:10},720:{slidesPerView:"auto",spaceBetween:15},1024:{slidesPerView:"auto",spaceBetween:20}},className:"slider--qFLZg",navigation:se,onSlideChange:e=>{s({isBeginning:e.isBeginning,isEnd:e.isEnd})},onSliderMove:e=>{s({isBeginning:e.isBeginning,isEnd:e.isEnd})},children:[Q.slice(1,12).map((e=>(0,i.jsx)(o.qr,{className:"slide--diE0z",children:(0,i.jsxs)(a.N_,{className:"link--KGEOU",to:`${P}?genres.name=${e.id}`,children:[(0,i.jsx)("svg",{className:"icon--J32t_",children:(0,i.jsx)("use",{xlinkHref:`${Se}#${e.id}`})}),(0,i.jsx)("span",{children:e.name})]})},e.id))),(0,i.jsx)(ne,{style:"genreBtns--FFDE7"})]})]})});var n},Te="wrapper--an7n4",Oe="slide--qEZEt",Le={320:{slidesPerView:2.5,spaceBetween:10},420:{slidesPerView:3,spaceBetween:10},620:{slidesPerView:3.5,spaceBetween:15},768:{slidesPerView:3.5,spaceBetween:20},1024:{slidesPerView:4.5,spaceBetween:30},1280:{slidesPerView:5.5,spaceBetween:30}},Ve=function(e){let{genre:s}=e;const{data:n={},error:t,isLoading:r,isError:l}=ve({"genres.name":s.id,limit:20,type:"movie"});return(0,i.jsx)("section",{className:"page-block",children:(0,i.jsxs)("div",{className:"container",children:[(0,i.jsxs)(a.N_,{to:`${P}?${K}=${s.id}`,className:"link--hImH6",children:[(0,i.jsx)("h2",{className:"title--VVNfg",children:s.name}),(0,i.jsx)("span",{className:"icon--pvrTB",children:(0,i.jsx)("svg",{children:(0,i.jsx)("use",{xlinkHref:`${E}#${O}`})})})]}),r&&(0,i.jsx)(Be,{width:75,height:75}),l&&(0,i.jsxs)("span",{children:["Error: ","message"in t?t.message:""]}),n.docs&&(0,i.jsxs)(o.RC,{className:"slider--W8zwg",speed:700,modules:[d.Vx],breakpoints:Le,navigation:se,children:[n.docs.map((e=>{var s,n,t,r,l;return(0,i.jsx)(o.qr,{className:Oe,children:(0,i.jsx)(a.N_,{to:`${F}${e.id}`,children:(0,i.jsxs)("div",{className:Te,children:[(0,i.jsx)("img",{className:"poster--IQCZw",src:null===(s=e.poster)||void 0===s?void 0:s.previewUrl,alt:""}),(0,i.jsxs)("div",{className:"content--dnk1y",children:[(0,i.jsx)("div",{className:(0,c.A)("rating--ZHT3x",ie(null===(n=e.rating)||void 0===n?void 0:n.kp)),children:Boolean(null===(t=e.rating)||void 0===t?void 0:t.kp)&&(null===(l=null===(r=e.rating)||void 0===r?void 0:r.kp)||void 0===l?void 0:l.toFixed(1))}),(0,i.jsx)("div",{className:"btns--KnSTw"}),(0,i.jsx)("p",{className:"name--BEtLt",children:e.name})]})]})})},e.id)})),(0,i.jsx)(o.qr,{className:Oe,children:(0,i.jsx)(a.N_,{to:`${P}?genres=${s.id}`,children:(0,i.jsx)("div",{className:Te,children:(0,i.jsxs)("div",{className:"showAllWrapper--qem5m",children:[(0,i.jsx)("svg",{className:"showAllIcon--u3Cu6",children:(0,i.jsx)("use",{xlinkHref:`${E}#${O}`})}),(0,i.jsx)("p",{className:"showAllText--QojG9",children:"Показать все"})]})})})}),(0,i.jsx)(ne,{style:"sliderPageBtns--JvYhZ"})]})]})})},Re=function(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Ce,{}),(0,i.jsx)(Ie,{}),Q.slice(1,5).map((e=>(0,i.jsx)(Ve,{genre:e},e.id)))]})},Me={hidden:"hidden--MN8vJ","visually-hidden":"visually-hidden--P0pVU",container:"container--lN1pR","header-container":"header-container--VCpTf","page-block":"page-block--jtlkr","page-block--promo":"page-block--promo--jKDzz","bg-grey":"bg-grey--DmPEv","bg-green":"bg-green--ijtcL","bg-orange":"bg-orange--M0lbW","bg-red":"bg-red--Sevi7",films:"films--_zFEn",title:"title--_Jjtd",filters:"filters--j1Ydn",filtersWrapper:"filtersWrapper--GqU5O",resetBtn:"resetBtn--oB0Ty",sortIcon:"sortIcon--jRDVR",sortText:"sortText--UicFa",sortTextMob:"sortTextMob--uFQSY"},We={hidden:"hidden--YcEar","visually-hidden":"visually-hidden--SW9Z1",container:"container--OiWGy","header-container":"header-container--_ZVtI","page-block":"page-block--OXRK9","page-block--promo":"page-block--promo--oaVGr","bg-grey":"bg-grey--WO42C","bg-green":"bg-green--gxMxJ","bg-orange":"bg-orange--B68FG","bg-red":"bg-red--WKVhC",select:"select--T8SES",value:"value--BJkm3",text:"text--GRgEy",icon:"icon--O5b5v",iconOpen:"iconOpen--nbNwb",selectSort:"selectSort--Si42Y",list:"list--ZsL4Y",item:"item--LJWpw",itemHover:"itemHover--WM3Je",itemActive:"itemActive--SVOAm"},_e=Fe.memo((function(e){let{parsedOption:s,options:n,optionType:t,searchParams:r,setSearchParams:a,classModif:l,extraOption:o,children:d}=e;const m=s?n.find((e=>e.id===s)):n[0],[h,u]=Fe.useState(!1),[p,x]=Fe.useState(m),[j,g]=Fe.useState(m.id),v=Fe.useRef(null),N=Fe.useRef(null),f=Fe.useCallback((e=>{p&&g(p.id),u(e)}),[p,g]),b=e=>{"0"!==e?(o&&r.set(o.type,o.id),r.set(t,e),a(r)):(o&&r.delete(o.type,o.id),r.delete(t),a(r))},y=e=>{x(e),g(e.id),b(e.id)};return Fe.useEffect((()=>{function e(e){const s=e.target;v.current&&!v.current.contains(s)&&f(!1)}function s(e){"Escape"===e.key&&f(!1)}return document.addEventListener("click",e),document.addEventListener("keydown",s),()=>{document.removeEventListener("click",e),document.removeEventListener("keydown",s)}}),[f]),Fe.useEffect((()=>{p&&h&&ce(p,n,N)}),[h,p,n]),Fe.useEffect((()=>{s||x(n[0])}),[s,n]),(0,i.jsxs)("div",{className:(0,c.A)(We.select,l&&We[`select${l}`]),tabIndex:0,role:"button",ref:v,onClick:()=>f(!h),onKeyDown:function(e){let s=n.findIndex((e=>e.id===j));if("ArrowUp"===e.code){if(!h)return;s-1<0?s=n.length-1:s-=1,e.preventDefault(),g(n[s].id),ce(p,n,N,s)}if("ArrowDown"===e.code){if(!h)return;s+1>n.length-1?s=0:s+=1,e.preventDefault(),g(n[s].id),ce(p,n,N,s)}"Enter"!==e.code&&"Space"!==e.code||(h&&x(n[s]),b(n[s].id),e.preventDefault(),f(!h))},children:[(0,i.jsxs)("div",{className:We.value,children:[d,(0,i.jsx)("span",{className:We.text,children:p.title||p.name}),(0,i.jsx)("svg",{className:(0,c.A)(We.icon,h&&We.iconOpen),children:(0,i.jsx)("use",{xlinkHref:`${E}#${O}`})})]}),h&&(0,i.jsx)("ul",{className:We.list,ref:N,onMouseMove:e=>{if(e.target instanceof HTMLElement&&e.target.classList.contains(We.item)){const s=e.target.getAttribute("data-id");s&&s!==j&&g(s)}},children:n.map((e=>(0,i.jsx)("li",{children:(0,i.jsx)("div",{"data-id":e.id,role:"button",tabIndex:-1,className:(0,c.A)(We.item,p.id===e.id&&We.itemActive,j===e.id&&We.itemHover),onClick:()=>y(e),onKeyDown:()=>y(e),children:e.name})},e.id)))})]})})),De="paginationItem--TBt8z",qe="paginationLink--YVwNn",He="paginationIconFirst--p3aPx",Ke="paginationIconLast--O8h16",Ue=function(e){let{pages:s,paramsPage:n,handler:t,filmsref:r}=e;const a=Number(n)||1,{ref:l,isComponentVisible:o,setIsComponentVisible:d}=function(e){const[s,n]=Fe.useState(e),i=Fe.useRef(null),t=e=>{"Escape"===e.key&&n(!1)},r=e=>{const s=e.target;i.current&&!i.current.contains(s)&&n(!1)};return Fe.useEffect((()=>(document.addEventListener("keydown",t,!0),document.addEventListener("click",r,!0),()=>{document.removeEventListener("keydown",t,!0),document.removeEventListener("click",r,!0)})),[]),{ref:i,isComponentVisible:s,setIsComponentVisible:n}}(!1),m=Fe.useRef(null),h=()=>{const e=-1*parseInt(getComputedStyle(document.body).getPropertyValue("--header-height"),10),s=(null==r?void 0:r.current)?r.current.getBoundingClientRect().top+window.scrollY+e+-30:0;window.scrollTo({top:s,behavior:"smooth"})},u=(e,s)=>{e.preventDefault(),a!==s&&(t(s),h())};return(0,i.jsxs)("div",{className:"pagination--nyAWq",children:[(0,i.jsxs)("ul",{className:"paginationList--caJvz",children:[(0,i.jsx)("li",{className:(0,c.A)(De,"paginationItemStart--r5zIx"),children:(0,i.jsx)("a",{className:qe,href:"#1","aria-label":"Первая страница",onClick:e=>u(e,1),children:(0,i.jsx)("svg",{className:He,width:15,height:15,children:(0,i.jsx)("use",{xlinkHref:`${E}#${W}`})})})}),(0,i.jsx)("li",{className:De,children:(0,i.jsx)("a",{className:qe,href:"#1","aria-label":"Назад",onClick:e=>u(e,a-1),children:(0,i.jsx)("svg",{className:He,width:15,height:15,children:(0,i.jsx)("use",{xlinkHref:`${E}#${q}`})})})}),ae(a,s).map((e=>Number(e.val)?(0,i.jsx)("li",{className:De,children:(0,i.jsx)("a",{className:(0,c.A)(qe,e.val===a&&"paginationLinkActive--N39lU"),href:`#${e.val}`,onClick:s=>u(s,e.val),children:e.val})},e.id):(0,i.jsx)("li",{className:De,children:(0,i.jsx)("span",{className:qe,children:e.val})},e.id))),(0,i.jsx)("li",{className:De,children:(0,i.jsx)("a",{className:qe,href:"#1","aria-label":"Вперед",onClick:e=>u(e,a+1),children:(0,i.jsx)("svg",{className:Ke,width:15,height:15,children:(0,i.jsx)("use",{xlinkHref:`${E}#${q}`})})})}),(0,i.jsx)("li",{className:(0,c.A)(De,"paginationItemEnd--Niexv"),children:(0,i.jsx)("a",{className:qe,href:"#1","aria-label":"Последняя страница",onClick:e=>u(e,s),children:(0,i.jsx)("svg",{className:Ke,width:15,height:15,children:(0,i.jsx)("use",{xlinkHref:`${E}#${W}`})})})})]}),(0,i.jsxs)("div",{className:"paginationJump--mXqnt",ref:l,children:[(0,i.jsxs)("button",{className:"paginationJumpBtn--JT7M_",type:"button",onClick:()=>d(!o),children:["Страница ",a," из ",s,(0,i.jsx)("svg",{className:"paginationJumpIcon--XUV4e",children:(0,i.jsx)("use",{xlinkHref:`${E}#${M}`})})]}),o&&(0,i.jsx)("div",{className:"paginationJumpMenu--D6aFK",children:(0,i.jsxs)("form",{method:"post",action:"",onSubmit:e=>{if(e.preventDefault(),!m||!m.current)return;const{value:s}=m.current;Number(s)!==a&&t(s),d(!1),h()},children:[(0,i.jsx)("input",{className:"paginationJumpInput--pzXye",type:"number",min:"1",max:s,placeholder:"Номер страницы",ref:m}),(0,i.jsx)("input",{className:"paginationJumpSubmitBtn--T3h87",type:"submit",value:"Перейти"})]})})]})]})},Ge=function(e){let{films:s,filmsref:n,loading:t}=e;return(0,i.jsx)("div",{className:(0,c.A)("filmsWrapper--KemYr",t&&"filmsWrapperLoad--A03Ka"),ref:n,children:s.docs.map((e=>{var s,n,t,r,l;return(0,i.jsxs)(a.N_,{className:"link--RKQNL",to:F+e.id,children:[(0,i.jsx)("img",{className:"poster--S22e2",src:null===(s=e.poster)||void 0===s?void 0:s.previewUrl,alt:"preview-poster"}),(0,i.jsxs)("div",{className:"content--Q9sjr",children:[(0,i.jsx)("div",{className:(0,c.A)("rating--Mo7sl",ie(null===(n=e.rating)||void 0===n?void 0:n.kp)),children:Boolean(null===(t=e.rating)||void 0===t?void 0:t.kp)&&(null===(l=null===(r=e.rating)||void 0===r?void 0:r.kp)||void 0===l?void 0:l.toFixed(1))}),(0,i.jsx)("div",{className:"btns--LiIXs"}),(0,i.jsx)("p",{className:"name--D5m1B",children:e.name})]})]},e.id)}))})},Je=function(e){var s,n;const{type:t}=e,[r,l]=(0,a.ok)(),c=Fe.useRef(null),o=(e=>{const s={};for(const[n,i]of e)s[n]=i;return s})(r),d=!!Object.keys(o).length,{data:m=[],error:h,isLoading:u,isFetching:p,isError:x}=ge(Object.assign(Object.assign({},o),{type:t,limit:42}));return(0,i.jsx)("section",{className:Me.films,children:(0,i.jsxs)("div",{className:"container",children:[(0,i.jsx)("h1",{className:Me.title,children:le(t)}),(0,i.jsxs)("div",{className:Me.controls,children:[(0,i.jsxs)("div",{className:Me.filters,children:[(0,i.jsxs)("div",{className:Me.filtersWrapper,children:[(0,i.jsx)(_e,{parsedOption:o[K],options:Q,optionType:K,searchParams:r,setSearchParams:l}),(0,i.jsx)(_e,{parsedOption:o[U],options:z,optionType:U,searchParams:r,setSearchParams:l}),(0,i.jsx)(_e,{parsedOption:o[G],options:Z,optionType:G,searchParams:r,setSearchParams:l}),d&&(0,i.jsx)("button",{className:Me.resetBtn,type:"button",onClick:()=>{l(new URLSearchParams)},children:"Сбросить"})]}),(0,i.jsxs)(_e,{parsedOption:o[Y],options:X,optionType:Y,searchParams:r,setSearchParams:l,classModif:"Sort",extraOption:{type:"sortType",id:"-1"},children:[(0,i.jsx)("svg",{className:Me.sortIcon,children:(0,i.jsx)("use",{xlinkHref:`${E}#${_}`})}),(0,i.jsx)("span",{className:Me.sortTextMob,children:"По: "}),(0,i.jsx)("span",{className:Me.sortText,children:"Сортировать по: "})]})]}),u&&(0,i.jsx)(Be,{width:75,height:75}),x&&(0,i.jsxs)("h2",{children:["Error: ","message"in h?h.message:""]}),Boolean(!(null===(s=m.docs)||void 0===s?void 0:s.length))&&!u&&!x&&(0,i.jsx)("h2",{children:"Ничего не найдено"}),Boolean(null===(n=m.docs)||void 0===n?void 0:n.length)&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Ge,{films:m,filmsref:c,loading:p}),(0,i.jsx)(Ue,{pages:m.pages,paramsPage:r.get(J),handler:e=>{r.set(J,String(e)),l(r)},filmsref:c})]})]})]})})};var Ye=n(472);const Xe="film--GwuIy",Qe="backgroundContainer--KXxVv",ze="content--jSyki",Ze="info--ODgI8",es="popupEnter--dOVBK",ss="popupEnterActive--mBTEh",ns="popupExit--X9uGb",is="popupExitActive--DBkc4",ts={hidden:"hidden--cQgAz","visually-hidden":"visually-hidden--CJM0S",container:"container--KWADp","header-container":"header-container--w4reg","page-block":"page-block--I8j6r","page-block--promo":"page-block--promo--cHAPR","bg-grey":"bg-grey--EdpbF","bg-green":"bg-green--Eh5hj","bg-orange":"bg-orange--N24lB","bg-red":"bg-red--VRmND",title:"title--iW4hb",sliderPageBtns:"sliderPageBtns--dhkXx",slider:"slider--mW3Jb",personWrapper:"personWrapper--bEndi",person:"person--YdFvT",shortName:"shortName--TmNXn",personName:"personName--sDDWb"},rs={320:{slidesPerView:3,spaceBetween:10},420:{slidesPerView:4,spaceBetween:10},620:{slidesPerView:5,spaceBetween:15},768:{slidesPerView:6,spaceBetween:15},1024:{slidesPerView:7,spaceBetween:15},1280:{slidesPerView:9,spaceBetween:30}},as=function(e){let{persons:s}=e;return(0,i.jsx)("section",{className:"page-block",children:(0,i.jsxs)("div",{className:"container",children:[(0,i.jsx)("h2",{className:ts.title,children:"Актеры"}),(0,i.jsxs)(o.RC,{className:ts.slider,speed:700,modules:[d.Vx],breakpoints:rs,navigation:se,children:[s.map((e=>(0,i.jsx)(o.qr,{className:ts.slide,children:(0,i.jsxs)(a.N_,{to:`${S}${e.id}`,children:[(0,i.jsxs)("div",{className:ts.personWrapper,children:[(0,i.jsx)("span",{className:ts.shortName,children:"НА"}),(0,i.jsx)("img",{className:ts.person,src:e.photo,alt:"Фото актера"})]}),(0,i.jsx)("p",{className:ts.personName,children:e.name||e.enName})]})},e.id))),(0,i.jsx)(ne,{style:ts.sliderPageBtns})]})]})})},ls=function(e){Fe.useEffect((()=>{function s(s){"Escape"===s.key&&e(!1)}const n=window.innerWidth-document.documentElement.clientWidth;return n&&document.documentElement.style.setProperty("--scroll-width",`${n}px`),document.body.setAttribute("style","overflow: hidden;"),document.addEventListener("keydown",s),()=>{document.body.setAttribute("style",""),document.documentElement.style.setProperty("--scroll-width","0px"),document.removeEventListener("keydown",s)}}),[e])},cs=function(e){let{setVisible:s}=e;const[n,t]=Fe.useState(-1),[r,a]=Fe.useState(7),l=e=>(!r&&e<=n||e<=r)&&"ratingItemActive--kM2qG";return ls(s),(0,i.jsx)("div",{className:"overlay--B7L6N",onClick:()=>s(!1),children:(0,i.jsxs)("div",{className:"popup--Q7yUV",onClick:e=>e.stopPropagation(),children:[(0,i.jsx)("button",{className:"closeBtn--a_Kwa",type:"button","aria-label":"close",onClick:()=>s(!1),children:(0,i.jsx)("svg",{width:30,height:30,children:(0,i.jsx)("use",{xlinkHref:`${E}#${V}`})})}),(0,i.jsx)("h3",{className:"title--DgW2V",children:"Поставьте оценку"}),(0,i.jsx)("div",{className:"ratingWrapper--qOUcY",onMouseLeave:()=>(a(n<0?7:n),!1),children:[...new Array(10)].map(((e,s)=>s+1)).map((e=>(0,i.jsx)("div",{role:"button",tabIndex:0,onMouseEnter:()=>a(e),onClick:()=>t(e),onKeyDown:()=>t(e),children:(0,i.jsxs)("label",{className:(0,c.A)("ratingItem--oDQGz",l(e)),htmlFor:String(e),children:[(0,i.jsx)("span",{className:"ratingText--DO96Q",children:e}),(0,i.jsx)("input",{className:"hidden",type:"radio",value:e,id:String(e)})]})},e)))}),(0,i.jsx)("button",{className:"ratingBtn--UioE5",type:"button",onClick:()=>s(!1),children:"Оценить"})]})})},os="btn--rGwi9",ds="type--ffJmf",ms=function(e){let{children:s,setVisible:n}=e;return ls(n),(0,i.jsx)("div",{className:"overlay--v63eG",onClick:()=>n(!1),children:(0,i.jsxs)("div",{className:"popup--mHMUf",onClick:e=>e.stopPropagation(),children:[(0,i.jsx)("button",{className:"closeBtn--i12e2",type:"button","aria-label":"close",onClick:()=>n(!1),children:(0,i.jsx)("svg",{width:30,height:30,children:(0,i.jsx)("use",{xlinkHref:`${E}#${V}`})})}),(0,i.jsx)("div",{className:"content--xVjcW",children:s})]})})},hs=function(e){let{setVisible:s,data:n}=e;const[t,r]=Fe.useState({index:0,url:""});return(0,i.jsxs)(ms,{setVisible:s,children:[(0,i.jsx)("div",{className:"trailersList--m7ngb",children:n.map(((e,s)=>(0,i.jsxs)("div",{className:t.index===s?(0,c.A)(os,"btnActive--y7K8a"):os,onClick:()=>r({index:s,url:e.url}),children:[(0,i.jsx)("div",{className:"numberBtn--CSrXz",children:s+1}),(0,i.jsx)("img",{width:120,height:90,className:"previewImg--MbvIT",src:`//img.youtube.com/vi/${re(e.url)}/hqdefault.jpg`,alt:"Превью трейлера"}),(0,i.jsxs)("div",{className:"info--udLKA",children:[(0,i.jsx)("p",{className:"name--P8IJ0",children:e.name}),(0,i.jsx)("p",{className:ds,children:e.type}),(0,i.jsx)("p",{className:ds,children:"youtube"})]})]},e.name+s)))}),(0,i.jsx)("div",{className:"wrapper--m7FuZ",children:(0,i.jsx)("div",{className:"frameWrapper--ECbgL",children:(0,i.jsx)("iframe",{width:"100%",height:"100%",src:t.url?t.url:n[0].url,title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0})})})]})},us=function(e){let{setVisible:s,data:n}=e;const[t,r]=Fe.useState(n[0]),[a,l]=Fe.useState(!0),o=Fe.useRef(null);return Fe.useEffect((()=>{(null==o?void 0:o.current)&&o.current.addEventListener("load",(()=>{l(!1)}))}),[]),(0,i.jsx)(ms,{setVisible:s,children:(0,i.jsx)("div",{className:"wrapper--EyLRC",children:(0,i.jsxs)("div",{className:"frameWrapper--Z8ofD",children:[a&&(0,i.jsx)("div",{className:"spinnerWrapper--oe_rX",children:(0,i.jsx)(Be,{width:75,height:75})}),(0,i.jsx)("iframe",{ref:o,width:"100%",height:"100%",title:"Player",src:t.iframeUrl,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0}),(0,i.jsx)("div",{className:"playerTabs--KDiEI",children:n.map(((e,s)=>(0,i.jsxs)("button",{className:(0,c.A)("playerTabBtn--LKsKU",e.iframeUrl===t.iframeUrl&&"playerTabBtnActive--rkT5B"),type:"button",onClick:()=>(e=>{r(e),l(!0)})(e),children:["Плеер №",s+1," [",e.source,"]"]},e.iframeUrl)))})]})})})},ps="tab--D0NXK",xs="tabActive--fTY3I",js="tabContent--rTDbP",gs="tabContentHidden--H868K",vs="ratingBlock--FAxUx",Ns="ratingText--K2i3J",fs="ratingDesc--WE5BC",bs=(0,Fe.memo)((e=>{let{description:s,ratingKp:n,ratingImdb:t}=e;const[r,a]=Fe.useState(1),[l,o]=Fe.useState(!1);return(0,i.jsx)("section",{className:"tabs--VPzsG",children:(0,i.jsxs)("div",{className:"container",children:[(0,i.jsxs)("ul",{className:"tabsList--ew5Fg",children:[(0,i.jsx)("li",{children:(0,i.jsx)("button",{type:"button",className:(0,c.A)(ps,1===r&&xs),onClick:()=>a(1),children:"Описание"})}),(0,i.jsx)("li",{children:(0,i.jsx)("button",{type:"button",className:(0,c.A)(ps,2===r&&xs),onClick:()=>a(2),children:"Cборы"})})]}),(0,i.jsxs)("div",{className:(0,c.A)(js,"tabContentDesc--V6iZL",1!==r&&gs),children:[(0,i.jsxs)("div",{className:"tabContentBlock--GC1ep",children:[(0,i.jsx)("p",{className:(0,c.A)("tabText--t7Jqm",l&&"tabTextShow--UTHTo"),children:s||"Описание отсутствует"}),s&&(0,i.jsx)("button",{className:"tabBtn--wNLLJ",onClick:()=>o(!l),type:"button",children:l?"Свернуть описание":"Подробное описание"})]}),(0,i.jsxs)("div",{className:"rating--Kf1ir",children:[(0,i.jsx)("h2",{className:"ratingTitle--FMnlk",children:"Рейтинг:"}),(0,i.jsxs)("div",{className:vs,children:[(0,i.jsx)("p",{className:Ns,children:n.toFixed(1)}),(0,i.jsx)("p",{className:fs,children:"kinopoisk"})]}),(0,i.jsxs)("div",{className:vs,children:[(0,i.jsx)("p",{className:Ns,children:t.toFixed(1)}),(0,i.jsx)("p",{className:fs,children:"imdb"})]})]})]}),(0,i.jsx)("div",{className:(0,c.A)(js,2!==r&&gs)})]})})})),ys="factsDescText--F9jX3";function ws(e){let{fact:s,index:n}=e;const[t,r]=Fe.useState(s.spoiler);return(0,i.jsxs)("li",{className:"factsItem--VMi5T",children:[(0,i.jsx)("div",{className:"factsNumber--ISPpd",children:(0,i.jsx)("span",{className:"factsNumberText--msurF",children:n+1})}),(0,i.jsxs)("div",{className:"factsWrapperText--D5h0k",children:[(0,i.jsx)("p",{className:t?(0,c.A)(ys,"factsDescTextSpoiler--Wrni7"):ys,children:s.value.replace(/<[^>]*>/g,"")}),t&&(0,i.jsx)("button",{className:"factsSpoilerBtn--hDWp3",type:"button",onClick:()=>r(!t),children:"Показать спойлер"})]})]})}const ks=(0,Fe.memo)((e=>{let{facts:s}=e;const[n,t]=Fe.useState(H),r=n<s.length;return(0,i.jsx)("section",{className:"facts--F2nKw",children:(0,i.jsxs)("div",{className:"container",children:[(0,i.jsx)("h2",{className:"factsTitle--ssJ0F",children:"Интересные факты о фильме"}),(0,i.jsx)("ul",{className:"factsList--XGAYz",children:s.slice(0,n).map(((e,s)=>(0,i.jsx)(ws,{fact:e,index:s},e.value.slice(0,20))))}),r&&(0,i.jsx)("button",{className:"factsBtn--nUiRw",type:"button",onClick:()=>t(n+H),children:"Показать ещё"})]})})})),Es=ks,As=function(e){let s,{trailer:n,handler:t,disabled:r,children:a}=e,l=0;return(0,i.jsx)("button",{disabled:r,className:(0,c.A)("movieBtn--LdF_F",n&&"movieBtnTrailer--NlexL"),onMouseEnter:function(e){const n=e.currentTarget;s=setInterval((()=>{n.style.setProperty("--angle-grad",`${l}deg`),l>=360&&(l=0),l+=2}),10)},onMouseLeave:function(){clearInterval(s)},type:"button",onClick:()=>t&&t(!0),children:(0,i.jsx)("div",{className:"movieBtnContent--e3pvK",children:a})})},Ps="title--8bHg4",Bs="sliderPageBtns--HR2aF",$s="slider--naIYl",Cs="wrapper--Cxyxr",Fs="poster--p9yCs",Ss="content--T7E4Q",Is="rating--Y0JHU",Ts="name--XFn05",Os="slide--WGGxN",Ls={320:{slidesPerView:2.5,spaceBetween:10},420:{slidesPerView:3,spaceBetween:10},620:{slidesPerView:3.5,spaceBetween:15},768:{slidesPerView:3.5,spaceBetween:20},1024:{slidesPerView:4.5,spaceBetween:30},1280:{slidesPerView:5.5,spaceBetween:30}};function Vs(e){let{item:s}=e;var n;const t=(0,o.Mn)();return(0,i.jsx)(a.N_,{to:F+s.id,onClick:()=>t.slideTo(0),children:(0,i.jsxs)("div",{className:Cs,children:[(0,i.jsx)("img",{className:Fs,src:null===(n=s.poster)||void 0===n?void 0:n.previewUrl,alt:"Постер"}),(0,i.jsxs)("div",{className:Ss,children:[(0,i.jsx)("div",{className:s.rating?(0,c.A)(Is,ie(s.rating.kp)):"",children:s.rating&&s.rating.kp.toFixed(1)}),(0,i.jsx)("p",{className:Ts,children:s.name})]})]})})}const Rs=function(e){let{title:s,data:n}=e;return(0,i.jsx)("section",{className:"page-block",children:(0,i.jsxs)("div",{className:"container",children:[(0,i.jsx)("h2",{className:Ps,children:s}),n.length&&(0,i.jsxs)(o.RC,{className:$s,speed:700,modules:[d.Vx],breakpoints:Ls,navigation:se,children:[n.map((e=>(0,i.jsx)(o.qr,{className:Os,children:(0,i.jsx)(Vs,{item:e})},e.id))),(0,i.jsx)(ne,{style:Bs})]})]})})},Ms=function(){var e,s,n,t,r,o,d,m;const{id:h}=(0,l.g)(),[u,p]=Fe.useState(!1),[x,j]=Fe.useState(!1),[g,v]=Fe.useState(!1),{data:N={},isFetching:f,isError:b,error:y}=fe(h),{actors:w,otherPersons:k}=(e=>{if(!e)return{};const s={},n=[];return e.forEach((e=>{Object.hasOwn(s,e.enProfession)||(s[e.enProfession]=[]),s[e.enProfession].push(e)})),Object.keys(s).forEach((e=>{"actor"!==e&&n.push(s[e])})),{actors:s.actor||[],otherPersons:n}})(N.persons),A=!(null===(e=null==N?void 0:N.videos)||void 0===e?void 0:e.trailers.length),B=($=null===(s=null==N?void 0:N.videos)||void 0===s?void 0:s.trailers,C=["url"],$?$.filter(((e,s,n)=>s===n.findIndex((s=>((e,s,n)=>n.every((n=>e[n]===s[n])))(s,e,C))))):[]);var $,C;const{data:F=[]}=ye({kinopoisk:h}),S=null==F?void 0:F.filter((e=>e.iframeUrl));return f||b?(0,i.jsxs)("section",{className:Xe,children:[(0,i.jsx)("div",{className:Qe}),(0,i.jsxs)("div",{className:(0,c.A)("container",ze),children:[f&&(0,i.jsx)(Be,{width:75,height:75}),b&&(0,i.jsxs)("h2",{children:["Error: ","message"in y?y.message:""]})]})]}):N.id?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("section",{className:Xe,children:[(0,i.jsx)("div",{className:Qe,style:{backgroundImage:`url(${null===(n=N.backdrop)||void 0===n?void 0:n.url})`}}),(0,i.jsx)("div",{className:(0,c.A)("container",ze),children:(0,i.jsxs)("div",{className:"wrapper--OFeEc",children:[(0,i.jsx)("img",{className:"poster--U3aSd",src:N.poster.previewUrl,alt:"poster"}),(0,i.jsxs)("div",{className:"filmBLocksWrapper--_K1Kg",children:[(0,i.jsx)("h1",{className:"title--q8v_V",children:N.name}),(0,i.jsx)("p",{className:"titleEng--KPqUy",children:N.alternativeName}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:Ze,children:N.year}),(0,i.jsx)("span",{className:Ze,children:N.ageRating&&`${N.ageRating}+`}),N.countries&&N.countries.map((e=>(0,i.jsx)("span",{className:Ze,children:e.name},e.name))),N.movieLength&&(0,i.jsxs)("span",{className:Ze,children:[N.movieLength," мин."," ",N.movieLength>60?`/ ${te(N.movieLength)}`:""]})]}),(0,i.jsx)("p",{className:"description--DiofO",children:N.shortDescription}),(0,i.jsx)("div",{children:null===(t=N.genres)||void 0===t?void 0:t.map((e=>(0,i.jsx)(a.N_,{className:"genreLink--UBMTJ",to:`${P}?genres.name=${e.name}`,children:(0,i.jsx)("span",{children:e.name})},e.name)))}),(0,i.jsxs)("div",{className:"btnsWrapper--iST8S",children:[(0,i.jsx)(As,{trailer:!0,handler:v,disabled:!S.length,children:"Смотреть онлайн"}),(0,i.jsxs)(As,{trailer:!0,handler:j,disabled:A,children:["Трейлеры (",(null===(r=N.videos)||void 0===r?void 0:r.trailers)?B.length:0,")"]}),(0,i.jsxs)(As,{handler:p,children:[(0,i.jsx)("svg",{width:20,height:20,children:(0,i.jsx)("use",{xlinkHref:`${E}#${D}`})}),(0,i.jsx)("span",{children:"Оценить"})]}),(0,i.jsxs)(As,{disabled:!0,children:[(0,i.jsx)("svg",{width:20,height:20,fill:"#fff",children:(0,i.jsx)("use",{xlinkHref:`${E}#${L}`})}),(0,i.jsx)("span",{children:"Запомнить"})]})]})]})]})})]}),(0,i.jsx)(bs,{description:N.description,ratingKp:N.rating.kp,ratingImdb:N.rating.imdb}),Boolean(null===(o=N.similarMovies)||void 0===o?void 0:o.length)&&(0,i.jsx)(Rs,{title:"Похожие фильмы",data:N.similarMovies}),Boolean(null===(d=N.sequelsAndPrequels)||void 0===d?void 0:d.length)&&(0,i.jsx)(Rs,{title:"Сиквелы и приквелы",data:N.sequelsAndPrequels}),Boolean(null==w?void 0:w.length)&&(0,i.jsx)(as,{persons:w||[]}),(0,i.jsx)("section",{className:"authors--J3743",children:(0,i.jsxs)("div",{className:"container",children:[(0,i.jsx)("h2",{className:"filmCrew--EtcKr",children:"Cъёмочная группа"}),(0,i.jsx)("ul",{className:"authorsList--gjowe",children:null==k?void 0:k.map((e=>(0,i.jsxs)("li",{className:"authorsItem--B2wR3",children:[(0,i.jsxs)("p",{className:"authorsTitle--GF_cX",children:[e[0].profession,":"]}),(0,i.jsx)("p",{className:"authorsName--LzFgf",children:e.map(((s,n)=>(0,i.jsxs)("span",{children:[s.name?s.name:s.enName,n+1!==e.length&&", "]},s.id)))})]},e[0].profession)))})]})}),Boolean(null===(m=N.facts)||void 0===m?void 0:m.length)&&(0,i.jsx)(Es,{facts:N.facts}),(0,i.jsx)(Ye.A,{in:u,timeout:300,unmountOnExit:!0,classNames:{enter:"popupEnter--_sJ1a",enterActive:"popupEnterActive--_Q1Xl",exit:"popupExit--XYr1g",exitActive:"popupExitActive--h19R4"},children:(0,i.jsx)(cs,{setVisible:p})}),(0,i.jsx)(Ye.A,{in:x,timeout:300,unmountOnExit:!0,classNames:{enter:es,enterActive:ss,exit:ns,exitActive:is},children:(0,i.jsx)(hs,{data:B,setVisible:j})}),(0,i.jsx)(Ye.A,{in:g,timeout:300,unmountOnExit:!0,classNames:{enter:es,enterActive:ss,exit:ns,exitActive:is},children:(0,i.jsx)(us,{data:S,setVisible:v})})]}):void 0},Ws=function(){return(0,i.jsx)("section",{className:"notFound--yywqg",children:(0,i.jsx)("div",{className:"container",children:(0,i.jsxs)("div",{className:"wrapper--Vc0I1",children:[(0,i.jsx)("h1",{className:"title--yqip5",children:"Страница не найдена"}),(0,i.jsx)("p",{className:"numbers--gnoMx",children:"404"}),(0,i.jsx)(a.N_,{className:"link--BM52X",to:A,children:"Перейти на главную"})]})})})},_s="personContainer--hI_8Q",Ds="personInfoItem--uPFIH",qs="personInfoTitle--oSEXM",Hs="personInfoDesc--FUir4",Ks="filmsTitle--o7Ft6",Us="filmName--b21nX",Gs="showMoreBtn--tbsm6",Js="btnNext--LrY9P",Ys="btnPrev--yIUGD",Xs=function(){const{id:e}=(0,l.g)(),{data:s={},isLoading:n,isError:t,error:r}=we(e),m=Fe.useMemo((()=>function(e){if(!(null==e?void 0:e.length))return[];const s=[],n={};return e.filter((e=>{let{filmId:s}=e;return!n[s]&&(n[s]=1,!0)})).forEach((e=>{const n=e.professionKey,i=s.find((e=>e.role===n));i?i.films.push(e):s.push({role:n,roleRu:ee[n],films:[e]})})),s}(s.films)),[s.films]),[h,u]=Fe.useState(m[0]),[p,x]=Fe.useState(H),[j,g]=Fe.useState(H);Fe.useEffect((()=>{u(m[0])}),[m]);const v=e=>{u(e),g(H)};return n||t?(0,i.jsxs)("div",{className:"container",style:{paddingTop:300},children:[n&&(0,i.jsx)(Be,{width:75,height:75}),t&&(0,i.jsxs)("h2",{children:["Error: ","message"in r?r.message:""]})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("section",{className:"person--OIp2y",children:(0,i.jsx)("div",{className:(0,c.A)("container",_s),children:(0,i.jsxs)("div",{className:"personWrapper--qGJoV",children:[(0,i.jsx)("img",{className:"personPoster--Mcp6w",src:s.posterUrl,alt:"person-poster",width:300,height:300}),(0,i.jsxs)("div",{className:"personInfo--tvhvt",children:[(0,i.jsx)("h2",{className:"personName--YMuh0",children:s.nameRu}),(0,i.jsx)("p",{className:"personNameEn--E3tTZ",children:s.nameEn}),(0,i.jsxs)("ul",{className:"personInfoWrapper--RHg7t",children:[(0,i.jsxs)("li",{className:Ds,children:[(0,i.jsx)("p",{className:qs,children:"Карьера:"}),(0,i.jsx)("p",{className:Hs,children:s.profession})]}),(0,i.jsxs)("li",{className:Ds,children:[(0,i.jsx)("p",{className:qs,children:"Дата рождения:"}),(0,i.jsx)("p",{className:Hs,children:new Date(s.birthday).toLocaleString("ru-RU",{year:"numeric",month:"long",day:"numeric"})})]}),(0,i.jsxs)("li",{className:Ds,children:[(0,i.jsx)("p",{className:qs,children:"Возраст:"}),(0,i.jsx)("p",{className:Hs,children:s.age})]}),Boolean(s.growth)&&(0,i.jsxs)("li",{className:Ds,children:[(0,i.jsx)("p",{className:qs,children:"Рост:"}),(0,i.jsxs)("p",{className:Hs,children:[s.growth," м"]})]}),(0,i.jsxs)("li",{className:Ds,children:[(0,i.jsx)("p",{className:qs,children:"Место рождения:"}),(0,i.jsx)("p",{className:Hs,children:s.birthplace})]}),(0,i.jsxs)("li",{className:Ds,children:[(0,i.jsx)("p",{className:qs,children:"Всего фильмов:"}),(0,i.jsx)("p",{className:Hs,children:s.films.length})]})]})]})]})})}),(0,i.jsx)("section",{className:"films--HTATz",children:(0,i.jsxs)("div",{className:(0,c.A)("container",_s),children:[(0,i.jsxs)("h2",{className:Ks,children:["Фильмография (",s.films.length,")"]}),(0,i.jsxs)(o.RC,{className:"slider--hcX4C",speed:700,modules:[d.Vx],breakpoints:{320:{slidesPerView:"auto",spaceBetween:10},720:{slidesPerView:"auto",spaceBetween:15},1024:{slidesPerView:"auto",spaceBetween:20}},navigation:{nextEl:`.${Js}`,prevEl:`.${Ys}`},children:[m.map((e=>(0,i.jsx)(o.qr,{className:"slide--pnLH5",children:(0,i.jsxs)("div",{role:"button",tabIndex:0,className:(0,c.A)("filmRole--eGzCu",h&&h.role===e.role&&"filmRoleActive--ScmgA"),onClick:()=>v(e),onKeyDown:()=>v(e),children:[ee[e.role]," (",e.films.length,")"]})},`${e.role}`))),(0,i.jsx)("button",{className:Ys,type:"button","aria-label":"prev",children:(0,i.jsx)("svg",{width:30,height:30,children:(0,i.jsx)("use",{xlinkHref:`${E}#${O}`})})}),(0,i.jsx)("button",{className:Js,type:"button","aria-label":"next",children:(0,i.jsx)("svg",{width:30,height:30,children:(0,i.jsx)("use",{xlinkHref:`${E}#${O}`})})})]}),(0,i.jsx)("div",{className:"filmsContainer--CfQgx",children:h&&h.films.slice(0,j).map((e=>(0,i.jsx)("div",{className:"film--Ralpk",children:(0,i.jsxs)("div",{className:"filmWrapper--ofnHg",children:[(0,i.jsx)("div",{className:"filmMainInfo--aN6Lr",children:(0,i.jsxs)(a.N_,{to:`${F}${e.filmId}`,children:[(0,i.jsx)("p",{className:Us,children:e.nameRu?e.nameRu:"—"}),(0,i.jsx)("p",{className:(0,c.A)(Us,"filmEnName--JI0n4"),children:e.nameEn?e.nameEn:"—"}),(0,i.jsx)("span",{className:"filmActorRole--huGzr",children:e.description})]})}),(0,i.jsx)("div",{children:(0,i.jsx)("span",{className:"filmRating--Yw541",children:e.rating?`Рейтинг ${e.rating}`:"—"})}),(0,i.jsx)("div",{children:(0,i.jsx)(a.N_,{className:"filmLink--vr3Vm",to:`${F}${e.filmId}`,children:"На страницу фильма"})})]})},`${e.nameEn}${e.description}`)))}),h&&h.films.length>10&&j<h.films.length&&(0,i.jsx)("button",{className:Gs,onClick:()=>g(j+H),type:"button",children:"Показать ещё"})]})}),Boolean(s.facts.length)&&(0,i.jsx)("section",{className:"facts--HOoGi",children:(0,i.jsxs)("div",{className:(0,c.A)("container",_s),children:[(0,i.jsx)("h2",{className:Ks,children:"Интересные факты"}),(0,i.jsx)("ul",{className:"factsList--Hxv4d",children:s.facts.slice(0,p).map((e=>(0,i.jsx)("li",{className:"fact--MK3Au",children:e},e.slice(0,20))))}),s.facts.length>10&&p<s.facts.length&&(0,i.jsx)("button",{className:Gs,onClick:()=>x(p+H),type:"button",children:"Показать ещё"})]})})]})};var Qs=n(181),zs=n.n(Qs);const Zs="headerOut--W25_r",en="searchTitle--OkT41",sn="link--t7X71",nn="headerIcon--kmdyc",tn="headerBtn--saiQO",rn="headerBtnText--DT0Fw",an=n.p+"img/logo-desktop.svg",ln=n.p+"img/logo-mobile.svg",cn=e=>{let{isActive:s}=e;return s?`${sn} activeLink--WsoVA`:sn},on=function(){const[e,s]=Fe.useState(!1),n=Fe.useRef(null),[t,r]=Fe.useState(!1),[l,o]=Fe.useState(!1),[d,m]=Fe.useState(""),[h,u]=Fe.useState(!1),[p,x]=Fe.useState(1),[j,{data:g={films:[]},error:v,isFetching:N,isError:f}]=be(),b=e=>{window.matchMedia("(min-width: 1024px)").matches||(e?(document.body.setAttribute("style",""),s(!1)):(document.body.setAttribute("style","overflow: hidden;"),s(!0),r(!1)))};Fe.useEffect((()=>{let e=window.scrollY;window.addEventListener("scroll",(()=>{if(!n||!n.current)return;const s=window.scrollY,i=n.current.classList.contains("headerSearch");s>e&&!i?(n.current.classList.add(Zs),e=s):(n.current.classList.remove(Zs),e=s)}))}),[]);const y=()=>{m(""),j({type:"text",params:{keyword:""}})},w=Fe.useCallback(zs()((e=>{o(!1),j({type:"text",params:{keyword:e}}).then((()=>{u(!1)})).catch((()=>{u(!1)}))}),1e3),[j]),k=e=>{const{value:s}=e.target;o(!0),x(1),u(!0),m(s),w(s)},S=e=>{function n(e){"Escape"===e.key&&(r(!1),y(),document.body.setAttribute("style",""),document.removeEventListener("keydown",n))}e?(document.body.setAttribute("style","overflow: hidden;"),document.addEventListener("keydown",n),r(!0),s(!1)):(document.body.setAttribute("style",""),document.removeEventListener("keydown",n),y(),r(!1))};return(0,i.jsxs)("header",{className:(0,c.A)("header--nR8Z4",t&&"headerSearch"),ref:n,children:[(0,i.jsxs)("div",{className:(0,c.A)("container","headerWrapper--Cc2fm"),children:[(0,i.jsx)(a.N_,{to:A,children:(0,i.jsxs)("picture",{children:[(0,i.jsx)("source",{srcSet:String(an),media:"(min-width: 768px)",width:"180px"}),(0,i.jsx)("img",{className:"logo--Dy43W",src:String(ln),alt:"logo"})]})}),(0,i.jsx)("nav",{className:(0,c.A)("nav--H2dVr",e&&"navOpen--gY6Bq"),children:t?(0,i.jsx)("div",{className:"search--xyyYp",children:(0,i.jsxs)("div",{className:"searchInputWrapper--LWLQD",children:[(0,i.jsx)("svg",{className:nn,width:"24px",height:"24px",children:(0,i.jsx)("use",{xlinkHref:`${E}#${I}`})}),(0,i.jsx)("input",{className:"searchInput--kQynN",autoFocus:!0,type:"text",value:d,placeholder:"Название фильма или сериала",onChange:k})]})}):(0,i.jsxs)("ul",{className:"list--j0ps7",children:[(0,i.jsx)("li",{children:(0,i.jsx)(a.k2,{className:cn,to:A,onClick:()=>b(e),children:"Главная"})}),(0,i.jsx)("li",{children:(0,i.jsx)(a.k2,{className:cn,to:P,onClick:()=>b(e),children:"Фильмы"})}),(0,i.jsx)("li",{children:(0,i.jsx)(a.k2,{className:cn,to:B,onClick:()=>b(e),children:"Сериалы"})}),(0,i.jsx)("li",{children:(0,i.jsx)(a.k2,{className:cn,to:$,onClick:()=>b(e),children:"Мультфильмы"})}),(0,i.jsx)("li",{children:(0,i.jsx)(a.k2,{className:cn,to:C,onClick:()=>b(e),children:"Мультсериалы"})})]})}),(0,i.jsxs)("div",{className:"headerControls--oMvMx",children:[(0,i.jsx)("button",{className:tn,type:"button",onClick:()=>S(!t),children:t?(0,i.jsx)("svg",{className:nn,width:"24px",height:"24px",children:(0,i.jsx)("use",{xlinkHref:`${E}#${V}`})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("svg",{className:nn,width:"24px",height:"24px",children:(0,i.jsx)("use",{xlinkHref:`${E}#${I}`})}),(0,i.jsx)("span",{className:rn,children:"Поиск"})]})}),(0,i.jsxs)(a.N_,{className:(0,c.A)("linkFavorite--ME1Me","linkDisabled--CQjKl"),to:A,children:[(0,i.jsx)("svg",{className:nn,width:"24px",height:"24px",children:(0,i.jsx)("use",{xlinkHref:`${E}#${L}`})}),(0,i.jsx)("span",{className:rn,children:"Избранное"})]}),(0,i.jsxs)("button",{className:tn,type:"button",disabled:!0,children:[(0,i.jsx)("svg",{className:nn,width:"24px",height:"24px",children:(0,i.jsx)("use",{xlinkHref:`${E}#${T}`})}),(0,i.jsx)("span",{className:rn,children:"Войти"})]}),(0,i.jsx)("button",{className:"burgerBtn--EO2m0",type:"button","aria-label":"burger",onClick:()=>b(e),children:(0,i.jsx)("svg",{className:nn,width:"30px",height:"30px",children:e?(0,i.jsx)("use",{xlinkHref:`${E}#${V}`}):(0,i.jsx)("use",{xlinkHref:`${E}#${R}`})})})]})]}),t&&(0,i.jsxs)("div",{className:(0,c.A)("container","searchMob--l_Xpj"),children:[(0,i.jsx)("svg",{className:"searchIconMob--O8hdG",width:"24px",height:"24px",children:(0,i.jsx)("use",{xlinkHref:`${E}#${I}`})}),(0,i.jsx)("input",{className:"searchInputMob--dDS0J",autoFocus:!0,type:"text",value:d,placeholder:"Название фильма или сериала",onChange:k}),(0,i.jsxs)("button",{className:"searchInputResetBtn--Jzfc_",type:"button",onClick:y,children:[(0,i.jsx)("svg",{width:"14px",height:"14px",children:(0,i.jsx)("use",{xlinkHref:`${E}#${V}`})}),(0,i.jsx)("span",{className:"visually-hidden",children:"Очистить поле ввода"})]})]}),(0,i.jsx)(Ye.A,{in:t,timeout:300,unmountOnExit:!0,classNames:{enter:"searchWrapperEnter--u0ule",enterActive:"searchWrapperActive--ozhZO",exit:"searchWrapperExit--AqGjr",exitActive:"searchWrapperExitActive--Z_Pie"},children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"searchWrapper--iaFTF",children:(0,i.jsxs)("div",{className:(0,c.A)("searchContainer--TbrGh",h&&"searchWrapperLoading--sd2kA"),children:[h&&(0,i.jsx)(Be,{width:75,height:75}),f&&(0,i.jsxs)("h2",{children:["Error: ","message"in v?v.message:""]}),!g.films.length&&!f&&d&&!N&&!l&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h2",{className:en,children:"Результаты:"}),(0,i.jsx)("h2",{className:"searchNotFound--kucCb",children:"Ничего не найдено"})]}),Boolean(g.films.length)&&!h&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h2",{className:en,children:"Результаты:"}),(0,i.jsx)("div",{className:"searchGrid--sgYWG",children:g.films.map((e=>(0,i.jsxs)(a.N_,{className:"searchItemLink--HIeXX",to:F+e.filmId,onClick:()=>S(!1),children:[(0,i.jsx)("img",{className:"searchItemPoster--lpTS_",src:e.posterUrlPreview,alt:"постер",loading:"lazy"}),(0,i.jsxs)("div",{className:"searchItemWrapper--CWZAG",children:[(0,i.jsx)("p",{className:"searchItemTitle--ny1ff",children:e.nameRu||e.nameEn}),(0,i.jsxs)("div",{children:[Boolean(Number(e.year))&&(0,i.jsx)("span",{className:"searchItemYear--nUfGU",children:e.year}),Boolean(Number(e.rating))&&(0,i.jsx)("span",{className:"searchItemRating--DvU33",children:e.rating})]})]})]},e.filmId)))}),g.pagesCount>1&&(0,i.jsx)("button",{className:"searchBtnShowMore--Vl4zU",type:"button",onClick:()=>{x(p+1),j({type:"page",params:{keyword:d,page:p+1}})},children:N?(0,i.jsx)(Pe,{width:18,height:18}):"Показать больше"})]})]})}),(0,i.jsx)("div",{role:"presentation",className:"searchBlur--_2mkq",onClick:()=>S(!1)})]})})]})},dn=function(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(on,{}),(0,i.jsx)("main",{children:(0,i.jsx)(l.sv,{})})]})},mn=function(){const{pathname:e}=(0,l.zy)();return(0,Fe.useEffect)((()=>{document.documentElement.scrollTo({top:0,left:0,behavior:"instant"})}),[e]),null},hn=function(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(mn,{}),(0,i.jsx)(l.BV,{children:(0,i.jsxs)(l.qh,{path:A,element:(0,i.jsx)(dn,{}),children:[(0,i.jsx)(l.qh,{index:!0,element:(0,i.jsx)(Re,{})}),(0,i.jsx)(l.qh,{path:P,element:(0,i.jsx)(Je,{type:"movie"})}),(0,i.jsx)(l.qh,{path:B,element:(0,i.jsx)(Je,{type:"tv-series"})}),(0,i.jsx)(l.qh,{path:$,element:(0,i.jsx)(Je,{type:"cartoon"})}),(0,i.jsx)(l.qh,{path:C,element:(0,i.jsx)(Je,{type:"animated-series"})}),(0,i.jsx)(l.qh,{path:"/film/:id",element:(0,i.jsx)(Ms,{})}),(0,i.jsx)(l.qh,{path:"/person/:id",element:(0,i.jsx)(Xs,{})}),(0,i.jsx)(l.qh,{path:"*",element:(0,i.jsx)(Ws,{})})]})})]})},un=(0,n(307).U1)({reducer:{[ke.reducerPath]:ke.reducer},middleware:e=>e().concat(ke.middleware),devTools:!1}),pn=document.querySelector("#root");pn&&t.createRoot(pn).render((0,i.jsx)(r.Kq,{store:un,children:(0,i.jsx)(a.I9,{children:(0,i.jsx)(hn,{})})}))}},t={};function r(e){var s=t[e];if(void 0!==s)return s.exports;var n=t[e]={exports:{}};return i[e](n,n.exports,r),n.exports}r.m=i,e=[],r.O=(s,n,i,t)=>{if(!n){var a=1/0;for(d=0;d<e.length;d++){n=e[d][0],i=e[d][1],t=e[d][2];for(var l=!0,c=0;c<n.length;c++)(!1&t||a>=t)&&Object.keys(r.O).every((e=>r.O[e](n[c])))?n.splice(c--,1):(l=!1,t<a&&(a=t));if(l){e.splice(d--,1);var o=i();void 0!==o&&(s=o)}}return s}t=t||0;for(var d=e.length;d>0&&e[d-1][2]>t;d--)e[d]=e[d-1];e[d]=[n,i,t]},r.n=e=>{var s=e&&e.__esModule?()=>e.default:()=>e;return r.d(s,{a:s}),s},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,r.t=function(e,i){if(1&i&&(e=this(e)),8&i)return e;if("object"==typeof e&&e){if(4&i&&e.__esModule)return e;if(16&i&&"function"==typeof e.then)return e}var t=Object.create(null);r.r(t);var a={};s=s||[null,n({}),n([]),n(n)];for(var l=2&i&&e;"object"==typeof l&&!~s.indexOf(l);l=n(l))Object.getOwnPropertyNames(l).forEach((s=>a[s]=()=>e[s]));return a.default=()=>e,r.d(t,a),t},r.d=(e,s)=>{for(var n in s)r.o(s,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:s[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var s=r.g.document;if(!e&&s&&(s.currentScript&&(e=s.currentScript.src),!e)){var n=s.getElementsByTagName("script");if(n.length)for(var i=n.length-1;i>-1&&(!e||!/^http(s?):/.test(e));)e=n[i--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e+"../"})(),(()=>{var e={23:0};r.O.j=s=>0===e[s];var s=(s,n)=>{var i,t,a=n[0],l=n[1],c=n[2],o=0;if(a.some((s=>0!==e[s]))){for(i in l)r.o(l,i)&&(r.m[i]=l[i]);if(c)var d=c(r)}for(s&&s(n);o<a.length;o++)t=a[o],r.o(e,t)&&e[t]&&e[t][0](),e[t]=0;return r.O(d)},n=self.webpackChunkwebpack_5=self.webpackChunkwebpack_5||[];n.forEach(s.bind(null,0)),n.push=s.bind(null,n.push.bind(n))})();var a=r.O(void 0,[90],(()=>r(982)));a=r.O(a)})();